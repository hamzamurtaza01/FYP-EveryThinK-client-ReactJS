{"version":3,"sources":["Images/default-avatar.jpg","Images/Logo.png","Images/classroom-default-avatar.jpg","Images/test.png","Images/liked.PNG","Images/spinner.gif","components/AuthUserContext.js","components/withAuthentication.js","constants/routes.js","firebase/firebase.js","components/Navigation/Navigation.js","components/SignUp/SignUp.js","components/Wall/Comments.js","redux/UserInfo/UserInfoActions.js","redux/Auth/AuthActions.js","components/PasswordForget/PasswordForget.js","components/SignIn/SignIn.js","components/SignOut/SignOut.js","redux/ClassID/ClassIDActions.js","redux/MessageRecieverID/RecieverIDActions.js","components/Landing/Landing.js","components/withAuthorization.js","components/Wall/ShowPosts.js","components/Wall/Post.js","components/ListOfClasses/ListOfClasses.js","components/Messages/messtry.js","components/Home/Home.js","components/PasswordChange/PasswordChange.js","components/Account/Account.js","components/Assignment/Assignments.js","components/Quiz/Quiz.js","components/Assignment/Create_Assignment.js","components/Quiz/CreateQuiz.js","components/History.js","components/App.js","registerServiceWorker.js","redux/Auth/AuthReducers.js","redux/ClassID/ClassIDReducers.js","redux/UserInfo/UserInfoReducers.js","redux/MessageRecieverID/RecieverIDReducers.js","redux/rootReducer.js","redux/store.js","index.js"],"names":["module","exports","__webpack_require__","p","AuthUserContext","React","createContext","withAuthentication","Component","_React$Component","WithAuthentication","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","authUser","inherits","createClass","key","value","_this2","firebase","auth","onAuthStateChanged","setState","react_default","a","createElement","components_AuthUserContext","Provider","LANDING","HOME","LIST_OF_CLASSES","ASSIGN_CREATE","QUIZ_CREATE","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","retrieverRef","id","CommentsRef","db","database","updateUserInfo","user_info","type","updateUser","user","byPropKey","propertyName","defineProperty","PasswordForgetForm","onSubmit","event","preventDefault","email","CloseModal","sendPasswordResetEmail","then","console","log","catch","error","_this$state","isInvalid","className","onChange","target","placeholder","reactstrap_es","color","disabled","message","SignInForm","login","e","password","history","signInWithEmailAndPassword","users","uid","ref","concat","once","val","resp","U_info","push","routes","err","showModal","visible","handleCancel","GetUserInfo","_ref","asyncToGenerator","regenerator_default","mark","_callee","UserID","wrap","_context","prev","next","userinfo","stop","_x","apply","arguments","bind","assertThisInitialized","name","_this$state2","bsSize","handleChange","onClick","style","cursor","modal","title","onCancel","footer","PasswordForget","withRouter","connect","authReducers","UserInfo","UserInfoReducers","info","dispatch","SignIn_SignInForm","SignOutButton","logout","signOut","removeUser","removeClassId","removeUserInfo","removeRecieverId","size","outline","width","Navigation","Consumer","Navigation_NavigationAuth","Navigation_NavigationNonAuth","NavigationAuth","_this3","getUnreadMessagesCount","retrieverid","abrupt","userid","on","data","count","DATA","CONVOkeys","keys","forEach","convo","unread","UnreadMessagesCount","showDrawer","onClose","isOpen","UnreadNotificationsCount","toggle","_this$props","ClassID","RecieverID","light","expand","href","src","logo","alt","navbar","float","Link","to","badge","backgroundColor","marginBottom","inNavbar","nav","caret","SignOut","drawer","placement","closable","NavigationNonAuth","listStyleType","SignIn","ClassIDReducers","ClassId","RecieverIDReducers","RecieverId","SignUpForm","username","passwordOne","passwordTwo","phoneNumber","subject","interest","SignUp","createUserWithEmailAndPassword","child","set","Interest","Subject","required","SignUp_SignUpForm","LandingPage","LandingImage","SignUp_SignUp","withAuthorization","authCondition","WithAuthorization","TextArea","Input","CommentList","comments","CommentsKeys","DeleteComment","list","dataSource","header","padding","itemLayout","window","innerWidth","renderItem","item","index","Item","actions","USERID","display","justifyContent","content","skeleton","avatar","loading","active","Meta","defaultAvatar","marginLeft","marginRight","fontWeight","fontSize","author","description","Editor","_ref2","submitting","checkIFdisabled","es_form","resize","autosize","minRows","maxRows","es_button","htmlType","Comments","disableCommenting","datetime","editingCommentID","editedcomment","disableUpdateCommentButton","commentText","handleOk","UpdateComment","CommentID","PostID","Date_Time","updates","getDateandTime","sent","update","CreateNewComment","_callee2","_this$props2","newCommentRef","commentID","_context2","setTimeout","today","Date","day","toLocaleDateString","weekday","month","toLocaleString","date","getDate","year","getFullYear","hours","getHours","minutes","getMinutes","toString","dayORnight","RetrieveComments","_this$props3","commentzx","exists","filteredCommentskeys","CommentsArr","hasOwnProperty","Comment","moment","fromNow","toConsumableArray","reverse","_this$props4","remove","off","Comments_CommentList","comment","margin","Comments_Editor","onOk","ShowPost","showEditModal","prevCaption","editedCaption","UpdatePost","confirmLoading","LikedByMe","iLiked","Userid","Username","UserLikeRef","Liked","ToggleCommentsSection","ShowComments","emoji","avtar","time","caption","deletePost","type_of_files","files","filesInfo","likes","isEdited","fileList","defaultAvtar","popconfirm","onConfirm","okText","cancelText","popover","TextArea_default","height","react_fb_image_grid_es","beautify","images","ReactPlayer_default","url","controls","file","fileName","status","thumbUrl","upload","listType","border","alignContent","components_Wall_Comments","defaultProps","privacy","Posts","myClassesRef","retrieverRefx","storage","Post","setAttachmentType","attachment_type","UploadAllFiles","UploadFilesInfoArr","isPostButtonDisabled","taskref","cancel","code","filesArray","values","StorageRef","uploadTask","put","loadUpload","errUpload","completeUpload","snapshot","getMetadata","contentType","getDownloadURL","FileInfo","substring","indexOf","PostData","nameOfUser","writePostDataInClassesPostsNode","newPostRef","postID","PostInfo","PostText","UserId","isDeleted","RetrievePostsData","Postzx","myPosts","filteredPosts","Classes_Posts","_ref3","editedcap","_x2","input","rows","map","post","likesArr","Files","imagekeys","image","videokeys","video","applicationkeys","application","Likes","Wall_ShowPosts","editedcaption","HomePage","borderRadius","fontFamily","components_Wall_Post","PasswordChangeForm","ModalClose","currentUser","updatePassword","success","AccountPage","showModalChangePass","visibleChangePass","handleOkChangePass","handleCancelChangePass","showModalForUpdate","visibleForUpdate","editName","editPhoneno","editSubject","editInterest","handleOkForUpdate","UpdateUserInformation","prevSubject","prevInterest","handleCancelForUpdate","disableUpdateInfoButton","Name","Email","Phoneno","_this$state3","shape","PasswordChange","Panel","Collapse","ListOfClasses","showModalClassCode","visibles","handleOkforclasscode","ModalText","confirmLoadings","handleCancelforclasscode","showModalForEdit","Prevclassname","PrevSubject","editableClassname","editableSubject","EditClassInfo","Classid","editedClassname","editedSubject","UpdateClassInfo","students","stds","studentID","UpdateButtonDisabled","ShowAllClassesOfUser","authUserId","MyClassex","myClasses","filteredClasses","filteredkeys","ClassKeys","Userz_Classes","SelectedClassIDfromCardClick","updateClassId","CreateClass","classname","subjectname","generatedclasscode","newClassRef","classId","subjectName","teacherID","teacherName","classcode","postClassDataInUsersNode","postUserDataInClassesNode","document","getElementById","CreateClassButtonDisabled","teachername","ClassData","UsersData","userUpdates","GenerateCode","Math","random","slice","toUpperCase","showCodeInput","isGenerateCodeDisabled","myEvent","updateValue_Create","JoinClass","joinclassName","joinclassCode","Classes","Class","classID","classCode","classSubject","postJoinClassDataInUsersNode","postJoinUserDataInClassesNode","warning","JoinClassButtonDisabled","classUpdates","updateValue_Join","LeaveClass","cls_ID","DeleteClass","collapse","textAlign","readOnly","cls","body","zIndex","Messages","ShowAllUsers","UsersClasses","UsersClassesData","classKeys","UsersWithoutKey","_i","_classKeys","classid","MembersRef","MembersData","uniqueUsers","filter","obj","pos","arr","mapObj","AllUsersArr","SendMessage","_callee4","retrieverID","newMessage","otherpersonName","otherpersonID","senderID","senderName","newMsgRetrieverRef","msgID","newMesgRetrieverRef","_context4","snap","newSenderRef","updates3","latestTimestamp","now","latestMessage","messageText","messageid","chatid","_ref4","_callee3","updates4","_context3","_x3","RetrieveInboxUserAndMessages","_callee6","_context6","orderByChild","conversation","CONVO","con","_ref6","_callee5","cnvrstion","eachConvoInfo","_context5","Chats","_x4","RetrieveAllMessagesOfSelectedUser","senderid","sendername","updateRecieverId","messages","msgs","messagesArr","retrievedMessages","updatezz","SendButtonDisabled","uniques","marginTop","chat","classroomdefaultavatar","paddingLeft","Fragment","lib_default","eachmsg","AssignRef","QuizRef","Create_Assignment","onChangeDate","dateToShow","split","DATE","submissionDay","submissionDate","submissionTime","timestamp","getTime","submissionTimestamp","CreateNewQuestionField","questions","answers","isUploadAssignButtonDisabled","saveQuestion","saveAnswer","isQues","checkArray","isAns","is","UploadAssignButtonDisabled","my_arr","i","RemoveQuestion","thisQues","thisAns","quesArr","question","ansArr","answer","renderQuestionsAndCheckUploadAssignButtonDisabled","renderQuestions","UploadQuestions","_this$state4","assignname","assignQuesRef","assignID","assignAnsRef","Teacherid","Questions","Answers","historyGoBack","goBack","_this$state5","ques","_this$state6","bssize","entry_default","divider","confirm","Modal","Assignments","showDeleteConfirm","a_ID","okType","DeleteAssign","CheckTeacher","clsinfo","Teacher_ID","RetrieveAssignList","assignObj","ASSIGN","qkeys","qvalues","AssignListValues","AssignListKeys","RetrieveAssignQuestions","assignId","quesObj","QUES","timeInSeconds","Assignment_Questions","init_answers_Array","Assign_solutions","On_Assign_Submit","fetch","response","json","myJson","Xcore","score","theScore","Number","showModalForScore","ShowScore","handleOkForScore","LeaveAssign","handleCancelForScore","GetReport","Obj","result","resultKeysArr","resultValuesArr","showModalForResult","ShowResult","handleOkForResult","handleCancelForResult","assignkiID","updatesAssign","ChangeComponentToAssignCreate","LeaveAssignConfirm","setAssignIDandName","Aname","AssignName","activeTab","tab","pills","classnames","tabId","A","res","position","top","right","progress","percent","showInfo","Quiz","showModalForQuizCode","quizCODE","QuizListvalues","quizcode","handleOkForQuizCode","handleCancelForQuizCode","q_ID","DeleteQuiz","RetrieveQuizList","quizObj","QUIZ","StudentQuizKeys","Quizzes","Info","quizId","QuizListkeys","CheckProctoringKey","enteredQuizKey","quiz","isValid","isQuizKeyValid","RetrieveQuizQuestions","Quiz_Questions","Quiz_solutions","MarkStudentAttendanceForQuiz","attemptedQuiz","CheckStudentAttendanceForQuiz","QKeys","On_Quiz_Submit","QuizID","quizkiID","updatesQuiz","ChangeComponentToQuizCreate","LeaveQuizConfirm","LeaveQuiz","Quizname","flexDirection","overflowY","Qname","class","Timer","direction","initialTime","Hours","Minutes","Seconds","QtimeDuration","timeInHoursMinutes","CreateQuiz","showQuizCodeModal","showQuizCode","handleQuizCodeOk","handleQuizCodeCancel","GetQuestionsFromText","showSpinner","fetchData","chapterText","noOfQuestions","NumOfQues","isUploadQuizButtonDisabled","UploadQuizButtonDisabled","renderQuestionsAndCheckUploadQuizButtonDisabled","GenerateQuizCode","Quizcode","GetTimeFunc","time_d","_d","tymArr","And","quizname","QuizQuesRef","QuizAnsRef","expired","time_picker","format","spin","spinning","tip","createBrowserHistory","App","BrowserRouter","screenLoading","left","background","components_Navigation_Navigation","Switch","Route","exact","path","component","Landing_Landing","modifyUser","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","INITIAL_STATE","reducer","undefined","action","objectSpread","combineReducers","persistConfig","persistedReducer","persistReducer","rootReducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","persistStore","ReactDOM","render","es","src_components_App","URL","process","origin","addEventListener","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.bd3f0f8f.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Logo.1c56f8d4.png\";","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAAHlBMVEW/v79xcXFnZ2fCwsJsbGy4uLioqKiampqLi4t4eHiXPOgHAAAAjUlEQVQ4jdWSQRYDIQhDFZDg/S9c5LW146CL7ibb/JcZEkt5oJjPvgJ6sklcpJsUBtUQISfa23eipQEmH0Asi+Bev+opIBOQvxIK5j8gv3MCue93BiL5lUGYV0m29YdUy2kuDm3dpjAXtGUQo8eWY06qWD/EKj9Fjkuum7NSXUSXsni1b23dAtZH8XDgBXM6Az0X7tg4AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/test.80bb98b7.png\";","module.exports = __webpack_public_path__ + \"static/media/liked.a52fa73f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/spinner.2c0c5093.gif\";","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\nexport default AuthUserContext;","import React from 'react';\r\nimport AuthUserContext from './AuthUserContext';\r\nimport firebase from 'firebase';\r\n\r\nconst withAuthentication = (Component) => {\r\n    class WithAuthentication extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                authUser: null,\r\n            };\r\n        }\r\n        \r\n        componentDidMount() {\r\n            firebase.auth().onAuthStateChanged(authUser => {\r\n                authUser\r\n                    ? this.setState(() => ({ authUser }))\r\n                    : this.setState(() => ({ authUser: null }));\r\n            });\r\n        }\r\n\r\n        render() {\r\n            const { authUser } = this.state;\r\n            return (\r\n                <AuthUserContext.Provider value={authUser}>\r\n                    <Component />\r\n                </AuthUserContext.Provider>\r\n\r\n            );\r\n        }\r\n    }\r\n    return WithAuthentication;\r\n}\r\n\r\nexport default withAuthentication;","export const LANDING = '/';\r\n// export const SIGN_UP = '/signup';\r\n// export const SIGN_IN = '/signin';\r\nexport const HOME = '/home';\r\nexport const ACCOUNT = '/account';\r\n// export const PASSWORD_FORGET = '/pw-forget';\r\n// export const PASSWORD_CHANGE = '/pw-change'; cuz ye tow accounts ke page pe hogaa.\r\nexport const LIST_OF_CLASSES = '/classes';\r\nexport const MESSAGES = '/messages';\r\n// export const NOTIFICATIONS = '/notifications';\r\n// export const QUIZZES = '/quizzes';\r\nexport const ASSIGN_CREATE = '/assignment-create';\r\nexport const ASSIGNMENTS = '/assignments';\r\nexport const QUIZ_CREATE = '/quiz-create';\r\nexport const QUIZ = '/quizzes';\r\n\r\n\r\n\r\n// import React, { Component } from 'react';\r\n// import { withRouter, BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\n// import * as Screens from '../../screens'\r\n\r\n// const Routes = () => (\r\n//     <Router>\r\n//       <div>\r\n//         <Route exact path=\"/\" component={Screens.Login} />\r\n//         <Route exact path=\"/setProfile\" component={Screens.SetProfile} />\r\n//         <Route exact path=\"/setLocation\" component={Screens.Map} />\r\n//         <Route exact path=\"/dashboard\" component={Screens.Dashboard} />\r\n//         <Route exact path=\"/meetingScreen\" component={Screens.MeetingScreen} />\r\n//         <Route exact path=\"/meetupLocation\" component={Screens.MeetUpLoc} />\r\n//         <Route exact path=\"/direction\" component={Screens.GetDirection} />\r\n//         <Route exact path=\"/dir\" component={Screens.GetDir} />\r\n//       </div>  \r\n//     </Router>\r\n// );","import firebase from 'firebase/app';\r\n// import firebase from './index';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\n//HAMZA ka firebase\r\nconst config = {\r\n    apiKey: \"AIzaSyCAxfCotk8Bn074eZye-KDxyScD7gRFofw\",\r\n    authDomain: \"everythink-1.firebaseapp.com\",\r\n    databaseURL: \"https://everythink-1.firebaseio.com\",\r\n    projectId: \"everythink-1\",\r\n    storageBucket: \"everythink-1.appspot.com\",\r\n    messagingSenderId: \"551423560687\"\r\n  };\r\n\r\n// const config = process.env.NODE_ENV === 'production' ? prodConfig : devConfig;\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp(config);\r\n}\r\n\r\nconst db = firebase.database();\r\nconst auth = firebase.auth();\r\nexport { db, auth };\r\nexport default firebase;","// import { type } from 'os';\r\nimport { Badge, Drawer } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport React, { Component } from 'react';\r\n// import { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Collapse, DropdownItem, DropdownMenu, DropdownToggle, Nav, Navbar, NavbarBrand, NavbarToggler, NavItem, UncontrolledDropdown } from 'reactstrap';\r\nimport * as routes from '../../constants/routes';\r\nimport firebase from '../../firebase/firebase';\r\n// import Notification from './Notification';\r\nimport logo from '../../Images/Logo.png';\r\nimport AuthUserContext from '../AuthUserContext';\r\nimport SignIn from '../SignIn/SignIn';\r\nimport SignOutButton from '../SignOut/SignOut';\r\nimport './Navigation.css';\r\n\r\n\r\nconst database = firebase.database();\r\n\r\nlet retrieverRef;\r\n\r\n\r\nclass Navigation extends Component {\r\n\t// constructor(props) {\r\n\t// \tsuper(props);\r\n\t// }\r\n\r\n\tlogout = () => {\r\n\t\tthis.props.logout();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t{authUser =>\r\n\t\t\t\t\tauthUser ? <NavigationAuth {...this.props} /> : <NavigationNonAuth />\r\n\t\t\t\t}\r\n\t\t\t</AuthUserContext.Consumer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nclass NavigationAuth extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tisOpen: false,\r\n\t\t\tvisible: false,\r\n\t\t\tUnreadMessagesCount: 0,\r\n\t\t\tUnreadNotificationsCount: 0\r\n\t\t};\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getUnreadMessagesCount();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// retrieverRef.off();\r\n\t}\r\n\r\n\tgetUnreadMessagesCount = async () => {\r\n\r\n\t\t// const { UnreadMessagesCount } = this.state;\r\n\t\tconst { UserInfo } = this.props;\r\n\t\tif (!UserInfo) return;\r\n\t\tconst retrieverid = UserInfo.userid;\r\n\r\n\t\tretrieverRef = database.ref(`Conversations/${retrieverid}`);\r\n\t\tawait retrieverRef.on('value', (data) => {\r\n\t\t\tlet count = 0;\r\n\t\t\tconst DATA = data.val();\r\n\t\t\t// console.log({ DATA });\r\n\r\n\t\t\tconst CONVOkeys = DATA !== null && Object.keys(DATA);\r\n\t\t\tCONVOkeys.length && CONVOkeys.forEach((convo) => {\r\n\t\t\t\t// console.log(DATA[convo].unread);\r\n\t\t\t\tDATA[convo].unread\r\n\t\t\t\t\t? this.setState({ UnreadMessagesCount: ++count })\r\n\t\t\t\t\t: this.setState({ UnreadMessagesCount: count })\r\n\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\r\n\ttoggle() {\r\n\t\tthis.setState({\r\n\t\t\tisOpen: !this.state.isOpen\r\n\t\t});\r\n\t}\r\n\r\n\tlogout = () => {\r\n\t\tthis.props.logout();\r\n\t}\r\n\r\n\tshowDrawer = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t});\r\n\t};\r\n\tonClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\r\n\r\n\trender() {\r\n\t\tconst { UnreadMessagesCount, UnreadNotificationsCount } = this.state;\r\n\t\tconst { user, ClassID, RecieverID } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar color=\"light\" light expand=\"md\">\r\n\t\t\t\t\t<NavbarBrand href={routes.HOME}><img width=\"200px\" src={logo} alt=\"\" /></NavbarBrand>\r\n\t\t\t\t\t<NavbarToggler onClick={this.toggle} />\r\n\r\n\t\t\t\t\t{(!ClassID && !RecieverID) ?\r\n\t\t\t\t\t\t<Collapse isOpen={this.state.isOpen} navbar>\r\n\t\t\t\t\t\t\t<Nav /*fill={true}*/ style={{float:'right'}}>\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link className='nav-item' id='linkColor' to={routes.LIST_OF_CLASSES}><i className=\"fas fa-graduation-cap\"></i>&nbsp;My Classes</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.MESSAGES}><i className=\"fas fa-envelope\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<Badge count={UnreadMessagesCount} style={{ backgroundColor: '#F15A2D', marginBottom: '10px' }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t{/* <NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link to={\"\"} id='linkColor' onClick={this.showDrawer}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bell\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<Badge count={UnreadNotificationsCount} style={{ backgroundColor: '#F15A2D', marginBottom: '10px' }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</NavItem> */}\r\n\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<UncontrolledDropdown inNavbar>\r\n\t\t\t\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\t\t\t\t{user && <b>{user.user.email}</b>}\r\n\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.ACCOUNT}>Account Settings</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<SignOutButton {...this.props} />\r\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t</Collapse>\r\n\r\n\t\t\t\t\t\t:\r\n\r\n\t\t\t\t\t\t<Collapse isOpen={this.state.isOpen} navbar>\r\n\t\t\t\t\t\t\t<Nav /*fill={true}*/ style={{float:'right'}}>\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link className='nav-item' id='linkColor' to={routes.LIST_OF_CLASSES}><i className=\"fas fa-graduation-cap\"></i>&nbsp;My Classes</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.HOME}><i className=\"fas fa-home\"></i>&nbsp;Home</Link><span></span>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.ASSIGNMENTS}><i className=\"fas fa-briefcase \"></i>&nbsp;Assignments</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.QUIZ}><i className=\"fas fa-question-circle\"></i>&nbsp;Quizzes</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t<NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.MESSAGES}><i className=\"fas fa-envelope\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<Badge count={UnreadMessagesCount} style={{ backgroundColor: '#F15A2D', marginBottom: '10px' }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\r\n\t\t\t\t\t\t\t\t{/* <NavItem id='navbar'>\r\n\t\t\t\t\t\t\t\t\t<Link to={\"\"} id='linkColor' onClick={this.showDrawer}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-bell\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<Badge count={UnreadNotificationsCount} style={{ backgroundColor: '#F15A2D', marginBottom: '10px' }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</NavItem> */}\r\n\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<UncontrolledDropdown inNavbar>\r\n\t\t\t\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\t\t\t\t{user && <b>{user.user.email}</b>}\r\n\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t<DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link id='linkColor' to={routes.ACCOUNT}>Account Settings</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<SignOutButton {...this.props} />\r\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Drawer title=\"Notifications\" placement=\"right\" closable={false} onClose={this.onClose} visible={this.state.visible}>\r\n\t\t\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t\t\t<p>Some contents...</p>\r\n\t\t\t\t\t</Drawer>\r\n\r\n\t\t\t\t</Navbar>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst NavigationNonAuth = () =>\r\n\t<Navbar color=\"light\" light expand=\"md\">\r\n\t\t<NavbarBrand href={routes.HOME}><img width=\"200px\" src={logo} alt=\"\" /></NavbarBrand>\r\n\t\t<NavItem style={{ listStyleType: 'none' }} className=\"ml-auto\">\r\n\t\t\t<SignIn />\r\n\t\t</NavItem>\r\n\t</Navbar>\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state.UserInfoReducers);\r\n\treturn {\r\n\t\tuser: state.authReducers.user,\r\n\t\tClassID: state.ClassIDReducers.ClassId,\r\n\t\tUserInfo: state.UserInfoReducers.info,\r\n\t\tRecieverID: state.RecieverIDReducers.RecieverId\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\r\n\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as routes from '../../constants/routes';\r\nimport { db } from '../../firebase/firebase';\r\nimport firebase from '../../firebase/firebase';\r\n// import { doCreateUser } from '../db';\r\n// import { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { updateUserInfo } from '../../redux/UserInfo/UserInfoActions';\r\n\r\nimport { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\nimport { message} from 'antd';\r\n\r\nconst database = firebase.database();\r\nlet id;\r\n\r\nconst SignUpPage = (props) =>\r\n    <div>\r\n        {/* <h1>Create Account at EveryThinK</h1> */}\r\n        <h2>Don't have EveryThink?</h2>\r\n        <h3>Create Free Account</h3>\r\n        <br />\r\n        <SignUpForm {...props} />\r\n    </div>\r\n\r\n\r\nclass SignUpForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {},\r\n            username: '',\r\n            email: '',\r\n            passwordOne: '',\r\n            passwordTwo: '',\r\n            phoneNumber: '',\r\n            subject: '',\r\n            interest: '',\r\n            error: null\r\n        };\r\n\r\n        this.SignUp = this.SignUp.bind(this);\r\n    }\r\n\r\n    SignUp(e) {\r\n        e.preventDefault();\r\n        const { interest, phoneNumber, subject, username, email, passwordTwo } = this.state;\r\n        const { history } = this.props;\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(email, passwordTwo)\r\n            .then(users => {\r\n                this.setState({ user: users });\r\n                id = users.user.uid;\r\n                console.log(\"Sign Up successful. Welcome!\"  + id);\r\n                return users;\r\n            })\r\n            .then((users) => {\r\n\r\n                // add user to the Users list\r\n                const newUsersRef = database.ref('Users');\r\n                newUsersRef.child(id).set({\r\n                    userid: id,\r\n                    username: username,\r\n                    email: email,\r\n                    phoneNumber: phoneNumber,\r\n                    subject: subject,\r\n                    interest: interest\r\n                })\r\n\r\n                // add user to the relevant subject list\r\n                const newSubjectRef = database.ref(`Subject/${subject}`);\r\n                newSubjectRef.child(id).set({\r\n                    username: username // giving email here would save us from the duplication..NO, PUSH() will solve the problem\r\n                })\r\n\r\n                // add user to the relevant interest-area list\r\n                const newInterestRef = database.ref(`Interest Area/${interest}`);\r\n                newInterestRef.child(id).set({\r\n                    username: username\r\n                })\r\n\r\n                console.log(\"Sign Up successful. Account created!\");\r\n                this.props.updateUser(users);\r\n                history.push(routes.LIST_OF_CLASSES);\r\n                return id;\r\n            })\r\n            .then(async (UserID) => {\r\n                await this.GetUserInfo(UserID);\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                message.error(`${error}`);\r\n                this.setState({'error': error});\r\n            });\r\n        e.preventDefault();\r\n    }\r\n\r\n    GetUserInfo = (UserID) => {  // Get user info from DB and save in REDUX state \r\n        db.ref(`Users/${UserID}`).once('value', (user) => {\r\n            const userinfo = user.val();\r\n            // console.log('userinfo', userinfo);\r\n            return userinfo;\r\n        })\r\n            .then((userinfo) => {\r\n                this.props.updateUserInfo(userinfo);\r\n            })\r\n    }\r\n    \r\n    handleChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { Interest, phoneNumber, Subject, username, email, passwordOne, passwordTwo, error } = this.state;\r\n\r\n        const isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '' || Subject === '' || Interest === '' || phoneNumber === '';\r\n        return (\r\n            <form>\r\n                <Input bsSize='lg' value={this.username} name=\"username\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Full Name\" className='form-control input-lg' required /><br />\r\n                <Input bsSize='lg' value={this.email} name=\"email\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Email Address\" className='form-control input-lg' required /><br />\r\n\r\n                <div className='row'>\r\n                    <div className='col-md-6'>\r\n                        <Input bsSize='lg' value={this.passwordOne} name=\"passwordOne\" onChange={e => this.handleChange(e)} type=\"password\" placeholder=\"Password\" className='form-control input-lg' required />\r\n                    </div>\r\n\r\n                    <div className='col-md-6'>\r\n                        <Input bsSize='lg' value={this.passwordTwo} name=\"passwordTwo\" onChange={e => this.handleChange(e)} type=\"password\" placeholder=\"Confirm Password\" className='form-control input-lg' required />\r\n                    </div>\r\n\r\n                </div>\r\n                <br />\r\n                <Input bsSize='lg' value={this.phoneNumber} name=\"phoneNumber\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Phone Number\" className='form-control input-lg' required />\r\n                <br />\r\n                <div className='row'>\r\n                    <div className='col-md-6'>\r\n                        <Input bsSize='lg' value={this.subject} name=\"subject\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Subject\" className='form-control input-lg' required />\r\n                    </div>\r\n                    <div className='col-md-6'>\r\n                        <Input bsSize='lg' value={this.interest} name=\"interest\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Interest Area\" className='form-control input-lg' required />\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <Button size='lg' color='success' className='col-md-12' disabled={isInvalid} type=\"submit\" onClick={this.SignUp}>Sign Up</Button>\r\n                {/* {error && <p>{error.message}</p>} */}\r\n                <br/><br/><br/>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n// const SignUpLink = () =>\r\n//     <p>\r\n//         Don't have an account?\r\n//         {''}<br />\r\n//         <Link to={routes.SIGN_UP}>Sign Up</Link>\r\n//     </p>\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        UserInfo: state.UserInfoReducers.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateUser: (user) => dispatch(updateUser(user)),\r\n        updateUserInfo: (userinfo) => dispatch(updateUserInfo(userinfo))\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SignUpPage));\r\n\r\nexport { SignUpForm };\r\n","import React, { Component } from 'react';\r\nimport { Skeleton, Comment, Avatar, Form, Button, List, Input, Modal } from 'antd';\r\nimport moment from 'moment';\r\nimport firebase from '../../firebase/firebase';\r\nimport defaultAvatar from '../../Images/default-avatar.jpg';\r\nimport { connect } from 'react-redux';\r\nimport './Comments.css';\r\nimport { UncontrolledDropdown, DropdownMenu, DropdownItem, DropdownToggle } from 'reactstrap';\r\n\r\nconst TextArea = Input.TextArea;\r\n\r\nconst database = firebase.database();\r\nlet CommentsRef;\r\n\r\nconst CommentList = ({ comments, CommentsKeys, DeleteComment, showModal, userid }) => (\r\n    <List\r\n        dataSource={comments}\r\n        // bordered={true}\r\n        header={<p style={{ padding: 5 }}>{comments.length > 0 ? comments.length : ''} {comments.length > 1 ? 'replies' : 'reply'}</p>}\r\n        itemLayout={window.innerWidth <= 768 ? 'horizontal' : 'vertical'} //horizontal tha by default\r\n        // renderItem={props => <Comment {...props} />}\r\n        renderItem={(item, index) => (\r\n            <List.Item\r\n                actions={userid === item.USERID && [\r\n                    <UncontrolledDropdown>\r\n                        <DropdownToggle style={{ backgroundColor: 'white', display: 'flex', justifyContent: 'center' }}>\r\n                            <span className='DotCOmments' /><span className='DotCOmments' /><span className='DotCOmments' />\r\n                        </DropdownToggle>\r\n                        <DropdownMenu>\r\n                            <DropdownItem onClick={() => showModal(CommentsKeys[index], comments[index].content)}>Edit Comment</DropdownItem>\r\n                            <DropdownItem onClick={() => DeleteComment(CommentsKeys[index])}>Delete Comment</DropdownItem>\r\n                        </DropdownMenu>\r\n                    </UncontrolledDropdown>\r\n                ]}\r\n            >\r\n                <Skeleton avatar title={false} loading={item.loading} active>\r\n                    <List.Item.Meta\r\n                        avatar={<Avatar src={defaultAvatar} style={{ marginLeft: 10, marginRight: 20 }} />}\r\n                        title={<p style={{ color: '#455A64', fontWeight: 'bold', fontSize: 14 }}>{item.author}</p>} //name of user who commented\r\n                        description={<p style={{ color: '#37474F' }}>{item.content}</p>} // comment text\r\n                    />\r\n                </Skeleton>\r\n            </List.Item>\r\n        )}\r\n    />\r\n);\r\n\r\nconst Editor = ({ name, onChange, onSubmit, submitting, value, checkIFdisabled }) => (\r\n    <div>\r\n        <Form.Item>\r\n            <TextArea style={{ resize: 'none' }} name={name} onChange={onChange} value={value} autosize={{ minRows: 3, maxRows: 9 }} />\r\n        </Form.Item>\r\n        <Form.Item>\r\n            <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\" disabled={checkIFdisabled}>\r\n                Add Comment\r\n            </Button>\r\n        </Form.Item>\r\n    </div>\r\n);\r\n\r\n\r\nclass Comments extends Component {\r\n    state = {\r\n        comments: [],\r\n        submitting: false,\r\n        value: '',\r\n        disableCommenting: true,\r\n        CommentsKeys: [],\r\n        datetime: '',\r\n        editingCommentID: '',\r\n        editedcomment: '',\r\n        visible: false,\r\n        disableUpdateCommentButton: true\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.RetrieveComments();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        CommentsRef.off();\r\n    }\r\n\r\n    showModal = (editingCommentID, commentText) => {\r\n        this.setState({\r\n            visible: true,\r\n            editingCommentID: editingCommentID,\r\n            editedcomment: commentText\r\n        });\r\n    }\r\n    handleOk = (e) => {\r\n        const { editedcomment, editingCommentID } = this.state;\r\n        console.log(e);\r\n        this.UpdateComment(editingCommentID, editedcomment);\r\n        this.setState({ visible: false });\r\n    }\r\n    UpdateComment = async (CommentID, editedcomment) => {\r\n        const { ClassID, PostID } = this.props;\r\n        const Date_Time = await this.getDateandTime();\r\n\r\n        var updates = {};\r\n        updates[`/PostsComments/${ClassID}/${PostID}/${CommentID}/commentText`] = editedcomment;\r\n        updates[`/PostsComments/${ClassID}/${PostID}/${CommentID}/datetime`] = Date_Time;\r\n        updates[`/PostsComments/${ClassID}/${PostID}/${CommentID}/isEdited`] = 'true';\r\n\r\n        return database.ref().update(updates, () =>\r\n            this.setState({\r\n                datetime: '',\r\n                editedcomment: ''\r\n            })\r\n        );\r\n    }\r\n    handleCancel = (e) => {\r\n        console.log(e);\r\n        this.setState({ visible: false });\r\n    }\r\n\r\n\r\n    CreateNewComment = async () => {\r\n        const { value } = this.state;\r\n        const { ClassID, PostID, UserInfo } = this.props;\r\n\r\n        if (!value) {\r\n            return;\r\n        }\r\n        const Date_Time = await this.getDateandTime();\r\n        const newCommentRef = database.ref(`PostsComments/${ClassID}/${PostID}`).push();\r\n        const commentID = newCommentRef.key;\r\n        newCommentRef.set({\r\n            commentText: value,\r\n            username: UserInfo.username,\r\n            datetime: Date_Time,\r\n            ClassID: ClassID,\r\n            PostID: PostID,\r\n            CommentID: commentID,\r\n            userid: UserInfo.userid\r\n        })\r\n        this.setState({\r\n            submitting: true,\r\n        });\r\n        setTimeout(() => {\r\n            this.setState({\r\n                submitting: false,\r\n                value: ''\r\n            }\r\n                // , () => console.log(this.state.comments[0].datetime)\r\n            )\r\n        }, 1000);\r\n    }\r\n    getDateandTime = () => {\r\n        const today = new Date();\r\n        const day = today.toLocaleDateString('en-us', { weekday: 'short' });\r\n        const month = today.toLocaleString('en-us', { month: 'short' });\r\n        const date = today.getDate()\r\n        const year = today.getFullYear()\r\n        let hours = today.getHours()\r\n        let minutes = today.getMinutes().toString()\r\n        var dayORnight = \"AM\";\r\n        if (hours > 11) { dayORnight = \"PM\"; }\r\n        if (hours > 12) { hours = hours - 12; }\r\n        if (hours === 0) { hours = 12; }\r\n        if (hours < 10) { hours = \"0\" + hours; }\r\n        if (minutes < 10) { minutes = \"0\" + minutes; }\r\n\r\n        const datetime = `${day}, ${month} ${date}, ${year} at ${hours}:${minutes} ${dayORnight}`;\r\n        // console.log(datetime);\r\n        // this.setState({ datetime: datetime });\r\n        return datetime;\r\n    }\r\n\r\n    RetrieveComments = () => {\r\n        // const { Posts_Comments } = this.state;\r\n        const { ClassID, PostID } = this.props;\r\n\r\n        CommentsRef = database.ref(`PostsComments/${ClassID}/${PostID}`);\r\n        CommentsRef.on('value', (commentzx) => {\r\n            // console.log('commentzx', commentzx.exists());\r\n            if (!commentzx.exists()) return;\r\n            let Comments = commentzx.val();\r\n            // let filteredComments = [];\r\n            let filteredCommentskeys = [];\r\n            let CommentsArr = [];\r\n            if (Comments !== null) {\r\n                for (var key in Comments) {\r\n                    if (Comments.hasOwnProperty(key)) {\r\n                        // console.log('Comments', Comments);\r\n                        // console.log('Comments[key] -->>', Comments[key]);\r\n                        // filteredComments.push(Comments[key]);\r\n                        // console.log('filteredComments', filteredComments);\r\n                        CommentsArr = [\r\n                            {\r\n                                author: Comments[key].username,\r\n                                avatar: Comment,\r\n                                content: Comments[key].commentText,\r\n                                datetime: moment().fromNow(),\r\n                                USERID: Comments[key].userid\r\n                            },\r\n                            ...CommentsArr,\r\n                        ]\r\n                    }\r\n                }\r\n\r\n                CommentsArr.reverse();\r\n                filteredCommentskeys.push(Object.keys(Comments));\r\n                filteredCommentskeys = filteredCommentskeys.reverse();\r\n                // filteredComments = filteredComments.reverse();\r\n                // console.log({filteredComments});\r\n\r\n                // console.log('Comments', Comments);\r\n                // console.log('CommentsArr', CommentsRef);\r\n                // console.log('filteredCommentskeys[0]', filteredCommentskeys[0]);\r\n                // Posts_Comments: filteredComments,\r\n                this.setState({\r\n                    CommentsKeys: filteredCommentskeys[0],\r\n                    comments: CommentsArr\r\n                })\r\n            }\r\n            else {\r\n                this.setState({\r\n                    CommentsKeys: [],\r\n                    // Posts_Comments: filteredComments,\r\n                    comments: []\r\n                })\r\n            }\r\n        })\r\n        // .catch(function (error) {\r\n        //     console.log(\"Error retrieving post !\");\r\n        //     console.log(error.code);\r\n        //     console.log(error.message);\r\n        // })\r\n    }\r\n\r\n    DeleteComment = (CommentID) => {\r\n        const { ClassID, PostID } = this.props;\r\n        database.ref(`PostsComments/${ClassID}/${PostID}/${CommentID}`).remove();\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        },\r\n            () => {\r\n                if (!this.state.editedcomment) {\r\n                    this.setState({\r\n                        disableUpdateCommentButton: true\r\n                    })\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        disableUpdateCommentButton: false\r\n                    })\r\n                }\r\n\r\n                if (!this.state.value) {\r\n                    this.setState({\r\n                        disableCommenting: true\r\n                    })\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        disableCommenting: false\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { UserInfo } = this.props;\r\n        const { comments, submitting, value, CommentsKeys, visible, editedcomment, disableUpdateCommentButton, disableCommenting } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                {comments.length && <CommentList comments={comments} CommentsKeys={CommentsKeys} userid={UserInfo.userid} DeleteComment={this.DeleteComment} showModal={this.showModal} />}\r\n                <Comment\r\n                    avatar={(\r\n                        <Avatar src={defaultAvatar} alt={UserInfo.username} style={{ margin: 10 }} />\r\n                    )}\r\n\r\n                    content={(\r\n                        <Editor name='value' value={value} onChange={e => this.handleChange(e)} onSubmit={this.CreateNewComment} submitting={submitting} checkIFdisabled={disableCommenting} />\r\n                    )}\r\n                />\r\n                <Modal title='Edit Comment' visible={visible} onOk={(e) => this.handleOk(e)} onCancel={this.handleCancel}\r\n                    footer={[<Button key='cancel' onClick={this.handleCancel}>Cancel</Button>, <Button key='update' type=\"submit\" onClick={this.handleOk} disabled={disableUpdateCommentButton}>Update</Button>,]}>\r\n                    <br />\r\n                    <input className='form-control' name='editedcomment' value={editedcomment} onChange={e => this.handleChange(e)} type='text' /><br />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // updateUser: (user) => dispatch(updateUser(user)),\r\n        // updateClassId: (ClassId) => dispatch(updateClassId(ClassId))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);\r\n","const updateUserInfo = (user_info) => {\r\n    return {\r\n        type: 'UPDATE_USER_INFO',\r\n        user_info\r\n    }\r\n}\r\n\r\nconst removeUserInfo = () => {\r\n    return {\r\n        type: 'REMOVE_USER_INFO'\r\n    }\r\n}\r\n\r\nexport { updateUserInfo, removeUserInfo };","const updateUser = (user) => {\r\n    return {\r\n        type: 'UPDATE_USER',\r\n        user\r\n    }\r\n}\r\n\r\nconst removeUser = () => {\r\n    return {\r\n        type: 'REMOVE_USER'\r\n    }\r\n}\r\n\r\nexport { updateUser, removeUser };","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\n// import * as routes from '../../constants/routes';\r\nimport firebase from '../../firebase/firebase';\r\n// import { Button } from 'antd';\r\nimport { Button } from 'reactstrap';\r\n\r\n\r\n// const PasswordForgetPage = () =>\r\n//     <div>\r\n//         <h1>Password Forget Page</h1>\r\n//         <PasswordForgetForm />\r\n//     </div>\r\n\r\nconst byPropKey = (propertyName, value) => () => ({\r\n    [propertyName]: value,\r\n});\r\n\r\nclass PasswordForgetForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            error: null\r\n        }\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        const { email } = this.state;\r\n        const { CloseModal } = this.props;\r\n\r\n        // auth.doPasswordReset(email) // in firebase.js\r\n        firebase.auth().sendPasswordResetEmail(email)\r\n            .then(() => {\r\n                this.setState(byPropKey('email', email));\r\n                console.log(\"Password Reset link sent via email\");\r\n            })\r\n            .then(() => CloseModal())\r\n            .catch(error => {\r\n                this.setState(byPropKey('error', error));\r\n                console.log(\"Error resetting email\");\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { email, error } = this.state;\r\n        const isInvalid = email === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input className='form-control' value={email} onChange={event => this.setState(byPropKey('email', event.target.value))} type=\"text\" placeholder=\"Email Address\" />\r\n                <br />\r\n                {/* <Button outline color='primary' className='form-control' disabled={isInvalid} type=\"submit\">Reset My Password</Button> */}\r\n                <Button color='primary' type=\"submit\" className=\"btn btn-block\" disabled={isInvalid}>Reset My Password</Button>\r\n\r\n                {error && <p>{error.message}</p>}\r\n                <br/>\r\n                <br/>\r\n\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n// const PasswordForgetLink = () =>\r\n//     <p><Link to={routes.PASSWORD_FORGET}>Forgot Password?</Link></p>\r\n\r\nexport default PasswordForgetForm;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n// import { SignUpLink } from '../SignUp/SignUp';\r\n// import { PasswordForgetLink } from '../PasswordForget/PasswordForget';\r\nimport firebase from '../../firebase/firebase';\r\nimport * as routes from '../../constants/routes';\r\nimport { db } from '../../firebase/firebase';\r\n// import { doGetCurrentUser } from '../db';\r\n// import Notification from '../Navigation/Notification';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { updateUserInfo } from '../../redux/UserInfo/UserInfoActions';\r\nimport { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\nimport PasswordForgetForm from '../PasswordForget/PasswordForget';\r\n// import { Link } from 'react-router-dom';\r\nimport { Modal } from 'antd';\r\nimport { message } from 'antd';\r\nconst SignInPage = (props) =>\r\n    <div>\r\n        <SignInForm {...props} />\r\n        {/* <PasswordForgetLink /> */}\r\n    </div>\r\n\r\n\r\nclass SignInForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: null,\r\n            visible: false\r\n        };\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n    login = (e) => {\r\n        e.preventDefault();\r\n        const { email, password } = this.state;\r\n        var { history } = this.props;\r\n\r\n        // history = {}; ye hamza ne kiya hai 24/5/2019\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n            .then((users) => {\r\n                this.setState({ user: users })\r\n\r\n                const id = users.user.uid;\r\n                console.log(\"Sign In successful. Welcome!\" + id);\r\n                this.props.updateUser(users);\r\n\r\n                // return this.GetUserInfo(UserID)\r\n                return db.ref(`Users/${id}`).once('value', (user) => {\r\n                    const userinfo = user.val();\r\n                    return userinfo;\r\n                })\r\n            })\r\n            .then(resp => {\r\n                // console.log({resp: resp.val()});\r\n                const U_info = resp.val();\r\n                this.props.updateUserInfo(U_info);\r\n                history.push(routes.LIST_OF_CLASSES);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                message.error('Invalid Username or Password');\r\n                // this.setState({ error });\r\n            });\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({ visible: true });\r\n    }\r\n    // handleOk = (e) => {\r\n    //     console.log(e);\r\n    //     this.setState({ visible: false });\r\n    // }\r\n    handleCancel = (e) => {\r\n        console.log(e);\r\n        console.log('handle cancel of Forget Paassword');\r\n        this.setState({ visible: false });\r\n    }\r\n\r\n\r\n    GetUserInfo = async (UserID) => {  // Get user info from DB and save in REDUX state \r\n        db.ref(`Users/${UserID}`).once('value', (user) => {\r\n            const userinfo = user.val();\r\n            // console.log('userinfo', userinfo);\r\n            return userinfo;\r\n        })\r\n            .then((userinfo) => {\r\n                this.props.updateUserInfo(userinfo);\r\n            })\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    render() {\r\n        const { email, password, error, visible } = this.state;\r\n        const isInvalid = password === '' || email === '';\r\n\r\n        return (\r\n            <div>\r\n                <form className='pull-right'>\r\n                    <div className='row'>\r\n                        {/* <div className='col-xs-12 col-sm-12 col-md-8 col-lg-12'> */}\r\n                        <div className='col-md-6'>\r\n                            <Input bsSize='lg' value={email} name=\"email\" onChange={e => this.handleChange(e)} type=\"text\" placeholder=\"Email Address\" />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <Input bsSize='lg' value={password} name=\"password\" onChange={e => this.handleChange(e)} type=\"password\" placeholder=\"Password\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row'>\r\n                        <div className='col-md-12'>\r\n                            <span>\r\n                                <Button color='primary' disabled={isInvalid} type=\"submit\" onClick={this.login} className='pull-right'>Sign In</Button>\r\n                                {error && <p>{error.message}</p>}\r\n                                {/* <PasswordForgetLink /> */}\r\n                                <p style={{ color: '#1A0DAB',cursor:'default' }} onClick={this.showModal}>Forgot Password?</p>\r\n\r\n                                <Modal title=\"Forgot Password?\" visible={visible} onCancel={this.handleCancel} footer={''}>\r\n                                    <PasswordForgetForm CloseModal={this.handleCancel} />\r\n                                </Modal>\r\n                            </span>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        UserInfo: state.UserInfoReducers.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateUser: (user) => dispatch(updateUser(user)),\r\n        updateUserInfo: (userinfo) => dispatch(updateUserInfo(userinfo))\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SignInPage));\r\n\r\nexport { SignInForm };","import React from 'react';\r\nimport firebase from '../../firebase/firebase';\r\n// import 'bootstrap/dist/css/bootstrap.css';\r\nimport { Button } from 'reactstrap';\r\n// import * as routes from '../../constants/routes';\r\n\r\nimport { removeClassId } from '../../redux/ClassID/ClassIDActions';\r\nimport { removeUser } from '../../redux/Auth/AuthActions';\r\nimport { removeUserInfo } from '../../redux/UserInfo/UserInfoActions';\r\nimport { removeRecieverId } from '../../redux/MessageRecieverID/RecieverIDActions';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nclass SignOutButton extends React.Component {\r\n    // constructor(props) {\r\n    //     super(props);\r\n    //     this.state = {\r\n    //         // user: {}\r\n    //     }\r\n    // }\r\n\r\n    logout = (e) => {\r\n        e.preventDefault();\r\n\r\n        firebase.auth().signOut()\r\n            .then(() => {\r\n                // Remove user and ClassId from Redux store...\r\n                this.props.removeUser();\r\n                this.props.removeClassId();\r\n                this.props.removeUserInfo();\r\n                this.props.removeRecieverId();\r\n            })\r\n            .then(() => {\r\n                this.props.logout();\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form>\r\n                <Button size='lg' outline color='danger' style={{ width: '100%' }} type=\"submit\" onClick={this.logout}>Sign Out</Button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (/*state*/) => {\r\n    return {\r\n        // user: state.authReducers.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        removeUser: () => dispatch(removeUser()),//auth\r\n        removeClassId: () => dispatch(removeClassId()),\r\n        removeUserInfo: () => dispatch(removeUserInfo()),\r\n        removeRecieverId: () => dispatch(removeRecieverId())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignOutButton);\r\n","const updateClassId = (ClassId) => {\r\n    return {\r\n        type: 'UPDATE_ClassId',\r\n        ClassId\r\n    }\r\n}\r\n\r\nconst removeClassId = () => {\r\n    return {\r\n        type: 'REMOVE_ClassId'\r\n    }\r\n}\r\n\r\nexport { updateClassId, removeClassId };","const updateRecieverId = (RecieverId) => {\r\n    return {\r\n        type: 'UPDATE_RecieverId',\r\n        RecieverId\r\n    }\r\n}\r\n\r\nconst removeRecieverId = () => {\r\n    return {\r\n        type: 'REMOVE_RecieverId'\r\n    }\r\n}\r\n\r\nexport { updateRecieverId, removeRecieverId };","import React, { Component } from 'react';\r\nimport SignUp from '../SignUp/SignUp';\r\nimport * as routes from '../../constants/routes';\r\nimport LandingImage from '../../Images/test.png';\r\nimport './Landing.css';\r\n\r\n// import { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button } from 'reactstrap';\r\n// import { Divider } from 'antd';\r\n// import logo from '../../Images/message.png';\r\n\r\nimport { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass LandingPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // CDM me user ka obj lakr redux se.. check rkengy user hai to SWITCH wala msla hai yeh....\r\n\r\n        const { user, history, ClassID } = this.props;\r\n        if (user && ClassID) {\r\n            history.push(routes.LIST_OF_CLASSES)\r\n        }\r\n        else if (user) {\r\n            history.push(routes.HOME)\r\n            // <Redirect to='/login' /> \r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            < div className=\"container\" >\r\n\r\n                <div className='col-md-7 col-lg-7 col-sm-7 row'>\r\n                    <img className='rounded mx-auto d-block img-responsive' src={LandingImage} alt='landingImage' />\r\n                </div>\r\n                <div className='col-md-5 col-lg-5 col-sm-5'>\r\n                    <SignUp />\r\n                </div>\r\n\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateUser: (user) => dispatch(updateUser(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport AuthUserContext from './AuthUserContext';\r\nimport firebase from '../firebase/firebase';\r\nimport * as routes from '../constants/routes';\r\n\r\nconst withAuthorization = (authCondition) => (Component) => {\r\n    class WithAuthorization extends React.Component {\r\n\r\n        componentDidMount() {\r\n            const { history } = this.props;\r\n\r\n            firebase.auth().onAuthStateChanged(authUser => {\r\n                if (!authCondition(authUser)) {\r\n                    // delete user wala kam\r\n                    history.push(routes.LANDING);\r\n                }\r\n                // else{\r\n                //     history.push(routes.LIST_OF_CLASSES);\r\n                // }\r\n            });\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <AuthUserContext.Consumer>\r\n                    {authUser =>\r\n                        authUser ? <Component {...this.props} /> : null\r\n                    }\r\n                </AuthUserContext.Consumer>\r\n            )\r\n        }\r\n    }\r\n    return withRouter(WithAuthorization);\r\n}\r\n\r\nexport default withAuthorization;","import React, { Component } from 'react';\r\nimport FbImageLibrary from 'react-fb-image-grid';\r\nimport { db } from '../../firebase/firebase';\r\n// import FacebookEmoji from 'react-facebook-emoji';\r\nimport './ShowPosts.css';\r\nimport defaultAvtar from '../../Images/default-avatar.jpg';\r\n// import LikeBtn from '../../Images/like-btn.PNG';\r\n// import CommentBtn from '../../Images/comment-btn.PNG';\r\n// import ShareBtn from '../../Images/share-btn.PNG';\r\nimport Liked from '../../Images/liked.PNG';\r\nimport Comments from './Comments';\r\nimport ReactPlayer from 'react-player';\r\n// import { message, Button, Icon } from 'antd';\r\nimport { Upload, Modal, Popover, Popconfirm } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\n// import { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\n\r\n// let LikeBtnImg = LikeBtn;\r\n\r\nclass ShowPost extends Component {\r\n\tstatic defaultProps = {\r\n\t\tavtar: false,\r\n\t\tname: 'Your Name',\r\n\t\ttime: 'Just Now',\r\n\t\tprivacy: 'public',\r\n\t\tcaption: 'Some Awesome Caption',\r\n\t\timages: [],\r\n\t\tlikes: 0,\r\n\t\teditedCaption: ''\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\temoji: null,\r\n\t\t\tiLiked: props.iLiked,\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\tShowComments: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// this.setState({ iLiked: true });\r\n\t}\r\n\r\n\tshowEditModal = (prevCaption) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\teditedCaption: prevCaption\r\n\t\t})\r\n\t}\r\n\thandleOk = (PostID) => {\r\n\t\tconst { editedCaption } = this.state;\r\n\t\tconst { UpdatePost } = this.props;\r\n\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: true,\r\n\t\t},\r\n\t\t\t() => UpdatePost(PostID, editedCaption)\r\n\t\t);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tconfirmLoading: false\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t}\r\n\thandleCancel = () => {\r\n\t\t// console.log('Clicked cancel button');\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t\teditedCaption: ''\r\n\t\t});\r\n\t}\r\n\r\n\tLikedByMe = (PostID) => {\r\n\t\tconst { iLiked } = this.state;\r\n\t\tconst { user, UserInfo, ClassID } = this.props;\r\n\t\tconst Userid = user.user.uid;\r\n\t\tconst Username = UserInfo.username;\r\n\r\n\t\tconst UserLikeRef = db.ref(`Classes/${ClassID}/Posts/${PostID}/Likes`).child(Userid);\r\n\r\n\t\tif (!iLiked) {\r\n\t\t\tUserLikeRef.set({\r\n\t\t\t\tusername: Username,\r\n\t\t\t\tLiked: true\r\n\t\t\t}).then(() => { this.setState({ iLiked: true }); console.log('liked') })\r\n\t\t} else {\r\n\t\t\tUserLikeRef.remove()\r\n\t\t\t\t.then(() => { this.setState({ iLiked: false }); console.log('disliked') })\r\n\t\t}\r\n\t}\r\n\r\n\tToggleCommentsSection = () => {\r\n\t\tconst { ShowComments } = this.state;\r\n\t\tthis.setState({ ShowComments: !ShowComments })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { emoji, iLiked, visible, confirmLoading, editedCaption, ShowComments } = this.state;\r\n\t\tconst { avtar, name, userid, time, caption, deletePost, type_of_files, files, filesInfo, likes, PostID, isEdited } = this.props;\r\n\t\tconst user = this.props.user || { user: {} };\r\n\t\tlet fileList = [];\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"post\">\r\n\r\n\t\t\t\t\t<div className=\"head\">\r\n\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t<img src={avtar ? avtar : defaultAvtar} alt=\"Img\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<span className=\"name\"><p style={{}}>{name}</p></span>\r\n\r\n\t\t\t\t\t\t<div className=\"time\">\r\n\t\t\t\t\t\t\t{isEdited && <span><b>Edited&nbsp;&nbsp;</b></span>}\r\n\t\t\t\t\t\t\t{time}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='dots'>\r\n\t\t\t\t\t\t\t{(user.user.uid === userid) &&\r\n\t\t\t\t\t\t\t\t<Popconfirm title=\"Are you sure you want to delete this Post?\" onConfirm={() => { deletePost(PostID) }} okText=\"Yes\" cancelText=\"No\">\r\n\t\t\t\t\t\t\t\t\t<Popover content=\"Delete post\">\r\n\t\t\t\t\t\t\t\t\t\t<label><i className=\"far fa-trash-alt\"></i></label>\r\n\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t{(user.user.uid === userid) &&\r\n\t\t\t\t\t\t\t\t<Popover onClick={() => this.showEditModal(caption)} content=\"Edit post\">\r\n\t\t\t\t\t\t\t\t\t<label><i className=\"far fa-edit\"></i></label>\r\n\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Modal title=\"Update your post\" visible={visible} onOk={() => this.handleOk(PostID)} confirmLoading={confirmLoading} onCancel={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t<TextArea value={editedCaption} onChange={(e) => this.setState({ editedCaption: e.target.value })} style={{ resize: 'none' }} className='form-control' type='text' autosize={{ minRows: 3, maxRows: 9 }} /><br />\r\n\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div className=\"caption\">{caption}</div>\r\n\r\n\r\n\t\t\t\t\t{type_of_files === 'image' &&\r\n\t\t\t\t\t\t<div className=\"images\" style={files.length > 0 ? { height: 'auto' } : { height: 0 }}>\r\n\t\t\t\t\t\t\t<FbImageLibrary beautify images={files} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{type_of_files === 'video' &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ReactPlayer url={files} controls width='100%' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{type_of_files === 'application' &&\r\n\t\t\t\t\t\t<div style={{}}>\r\n\t\t\t\t\t\t\t{filesInfo.forEach((file, index) => {\r\n\t\t\t\t\t\t\t\tfileList.push({\r\n\t\t\t\t\t\t\t\t\tuid: index,\r\n\t\t\t\t\t\t\t\t\tname: file.fileName,\r\n\t\t\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\t\t\turl: file.url,\r\n\t\t\t\t\t\t\t\t\tthumbUrl: file.url, // For IE 8/9\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{/* Boolean or { showPreviewIcon?: boolean, showRemoveIcon?: boolean } */}\r\n\t\t\t\t\t\t\t<Upload fileList={fileList} listType='picture' /*showUploadList={false}*/ /* action='//jsonplaceholder.typicode.com/posts/' */ />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<div className=\"likesCount\">\r\n\t\t\t\t\t\t<div className=\"likes\">\r\n\t\t\t\t\t\t\t{(iLiked || likes > 0) && (\r\n\t\t\t\t\t\t\t\t// niche thumbs-up wali image aegi liked krne pey.\r\n\t\t\t\t\t\t\t\t<img src={Liked} alt=\".\" />\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{/* {emoji}{likes} */}\r\n\t\t\t\t\t\t\t{/* {iLiked && ' You'}\r\n\t\t\t\t\t\t\t{iLiked && likes > 0 && ' & '}\r\n\t\t\t\t\t\t\t{likes > 0 && likes}\r\n\t\t\t\t\t\t\t{iLiked && likes > 0 && ' Others'} */}\r\n\r\n\t\t\t\t\t\t\t{likes > 0 && emoji}\r\n\t\t\t\t\t\t\t{likes > 0 && ` ${likes} `}\r\n\t\t\t\t\t\t\t{(likes === 1 && ` student `) || (likes > 1 && ` students `)}\r\n\t\t\t\t\t\t\t{likes > 0 && ` liked this post`}\r\n\r\n\t\t\t\t\t\t\t{/* Agar current user ki id hai sirf to & 3 Others show nahi karnaaa */}\r\n\t\t\t\t\t\t\t{/* {emoji && ' You'} {emoji && likes > 0 && ' & '}\r\n\t\t\t\t\t\t\t{likes > 0 && likes} {emoji && likes > 0 && ' Others'} */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div className=\"btns\">\r\n\t\t\t\t\t\t<div className=\"likeBtn\" onClick={() => this.LikedByMe(PostID)}>\r\n\t\t\t\t\t\t\t<label className=\"form-control btn btn-outline-default\" style={{ border: '1px solid #e9ebee', display: 'flex', justifyContent: 'center', alignContent: 'center' }} >\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tiLiked ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-thumbs-up fa-2x\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-thumbs-up fa-2x\" />\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{/* <i className={`${iLiked ? 'fas' : 'far'} fa-thumbs-up fa-2x`}></i>\r\n\t\t\t\t\t\t\t\t<i className={`${iLiked ? 'fas' : 'far'} fa-thumbs-up fa-2x`}></i> */}\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: '17px' }}>&nbsp;{iLiked ? 'Liked' : 'Like'}</b>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"commentBtn\" onClick={this.ToggleCommentsSection}>\r\n\t\t\t\t\t\t\t<label className=\"form-control btn btn-outline-default\" style={{ border: '1px solid #e9ebee', display: 'flex', justifyContent: 'center', alignContent: 'center' }} /*onClick={this.CommentBox}*/ >\r\n\t\t\t\t\t\t\t\t<i className=\"far fa-comment-alt fa-2x\"></i>\r\n\t\t\t\t\t\t\t\t<b style={{ fontSize: '17px' }}>&nbsp;Comments</b>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{ShowComments && <Comments PostID={PostID} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>&nbsp;</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.authReducers.user,\r\n\t\tClassID: state.ClassIDReducers.ClassId,\r\n\t\tUserInfo: state.UserInfoReducers.info\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t// updateUser: (user) => dispatch(updateUser(user))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShowPost);\r\n","import React, { Component } from 'react';\r\nimport firebase from '../../firebase/firebase';\r\n// import ShowPost from './ShowPosts';\r\nimport './Post.css';\r\n// import {db} from 'db';\r\n// import { db } from '../../firebase/firebase';\r\nimport { Input } from 'antd';\r\n// import { doGetCurrentUser } from '../db';\r\nimport ShowPost from './ShowPosts';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport '@fortawesome/fontawesome-free/js/all.js';\r\n\r\n// import { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst storage = firebase.storage();\r\nconst database = firebase.database();\r\n\r\nlet Posts;\r\n\r\nclass Post extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // avtars: [],\r\n            datetime: '',\r\n            caption: '',\r\n            editedcap: '',\r\n            Classes_Posts: [],\r\n            isPostButtonDisabled: false,\r\n            UploadFilesInfoArr: [],\r\n            attachment_type: ''\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.RetrievePostsData();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Posts.off();\r\n    }\r\n\r\n    // cancelPreviousUploads = () => {\r\n    //     taskref.cancel();\r\n    // }\r\n\r\n\r\n    setAttachmentType = (e) => {\r\n        this.setState({ attachment_type: e.target.name });\r\n    }\r\n    UploadAllFiles = (e) => {\r\n        this.setState({ UploadFilesInfoArr: [], isPostButtonDisabled: true });\r\n        const { user, ClassID } = this.props;\r\n        try {\r\n            var taskref;\r\n            taskref && taskref.cancel();\r\n        }\r\n        catch (e) {\r\n            console.log(e.code, e.message);\r\n        }\r\n        // uploadTask && uploadTask.cancel();\r\n        finally {\r\n            // add post to the Posts list\r\n            const files = e.target.files;\r\n            const filesArray = Object.values(files);\r\n            const UserID = user.user.uid;\r\n            filesArray.forEach(file => {\r\n                const StorageRef = storage.ref(`ClassesFiles/${ClassID}/${UserID}/${file.name}`);\r\n                console.log(file.name);\r\n                const uploadTask = StorageRef.put(file);\r\n                taskref = StorageRef.put(file);\r\n                uploadTask.on('state_changed', this.loadUpload, this.errUpload, () => this.completeUpload(uploadTask))\r\n            });\r\n        }\r\n    }\r\n    // while uploading\r\n    loadUpload = () => {\r\n        // ANY ANIMATION WHILE THE PICTURES ARE BEING UPLOADED, GO HERE .....\r\n    }\r\n    // if couldn't upload\r\n    errUpload = (err) => {\r\n        console.log(err);\r\n    }\r\n    // on upload success\r\n    completeUpload = (uploadTask) => {\r\n        const { UploadFilesInfoArr } = this.state;\r\n\r\n        uploadTask.snapshot.ref.getMetadata()\r\n            .then(({ contentType, name }) => {\r\n\r\n                uploadTask.snapshot.ref.getDownloadURL()\r\n                    .then((url) => {\r\n\r\n                        // console.log(contentType.substring(0, contentType.indexOf(\"/\")));\r\n                        const FileInfo = {\r\n                            type: contentType.substring(0, contentType.indexOf(\"/\")),\r\n                            url: url,\r\n                            fileName: name\r\n                        }\r\n                        UploadFilesInfoArr.push(FileInfo);\r\n                    })\r\n            })\r\n            .then(() => {\r\n                this.setState({ isPostButtonDisabled: false })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    PostData = async () => {\r\n        const { caption } = this.state;\r\n        const { ClassID, user, UserInfo } = this.props;\r\n        const UserID = user.user.uid;\r\n        const nameOfUser = UserInfo.username;\r\n        const Date_Time = await this.getDateandTime();\r\n        this.writePostDataInClassesPostsNode(UserID, nameOfUser, caption, Date_Time, ClassID);\r\n    }\r\n    writePostDataInClassesPostsNode = (UserID, nameOfUser, caption, Date_Time, ClassID) => {\r\n        const { UploadFilesInfoArr, attachment_type } = this.state;\r\n\r\n        // Write the new post's data in the Posts node in the Classes's list.\r\n        const newPostRef = database.ref(`Classes/${ClassID}/Posts`).push();\r\n        const postID = newPostRef.key;\r\n        const PostInfo = {\r\n            PostText: caption,\r\n            UserId: UserID,\r\n            Username: nameOfUser,\r\n            time: Date_Time,\r\n            isDeleted: false,\r\n            isEdited: false,\r\n            PostID: postID\r\n        };\r\n        newPostRef.set(PostInfo);\r\n        const keysArr = Object.keys(UploadFilesInfoArr);\r\n        keysArr.forEach(key => { // replaced map with forEach, not tested yet!\r\n            console.log(UploadFilesInfoArr[key]);\r\n            const newPostFilesInfoRef = database.ref(`Classes/${ClassID}/Posts/${postID}/Files/${attachment_type}`).push();\r\n            newPostFilesInfoRef.set(UploadFilesInfoArr[key]);\r\n        })\r\n        this.setState({\r\n            datetime: '',\r\n            caption: '',\r\n            isPostButtonDisabled: false,\r\n            UploadFilesInfoArr: [],\r\n            attachment_type: ''\r\n        })\r\n    }\r\n    getDateandTime = () => {\r\n        const today = new Date();\r\n        const day = today.toLocaleDateString('en-us', { weekday: 'short' });\r\n        const month = today.toLocaleString('en-us', { month: 'short' });\r\n        const date = today.getDate()\r\n        const year = today.getFullYear()\r\n        let hours = today.getHours()\r\n        let minutes = today.getMinutes().toString()\r\n        var dayORnight = \"AM\";\r\n        if (hours > 11) { dayORnight = \"PM\"; }\r\n        if (hours > 12) { hours = hours - 12; }\r\n        if (hours === 0) { hours = 12; }\r\n        if (hours < 10) { hours = \"0\" + hours; }\r\n        if (minutes < 10) { minutes = \"0\" + minutes; }\r\n\r\n        const datetime = `${day}, ${month} ${date}, ${year} at ${hours}:${minutes} ${dayORnight}`;\r\n        // console.log(datetime);\r\n        // this.setState({ datetime: datetime });\r\n        return datetime;\r\n    }\r\n\r\n\r\n    RetrievePostsData = () => {\r\n        const { ClassID } = this.props;\r\n\r\n        Posts = database.ref(`Classes/${ClassID}/Posts`);\r\n        Posts.on('value', (Postzx) => {\r\n            // console.log('Postzx', Postzx.val());\r\n            if (!Postzx.exists()) return;\r\n            let myPosts = Postzx.val();\r\n            let filteredPosts = [];\r\n            for (var key in myPosts) {\r\n                filteredPosts.push(myPosts[key]);\r\n            }\r\n            filteredPosts = filteredPosts.reverse();\r\n\r\n            // console.log('myPosts', myPosts);\r\n            // console.log('FiltereedPostkeys', filteredPostkeys[0]);\r\n            this.setState({ Classes_Posts: filteredPosts })\r\n        })\r\n        // .catch(function (error) {\r\n        //     console.log(\"Error retrieving post !\");\r\n        //     console.log(error.code);\r\n        //     console.log(error.message);\r\n        // })\r\n    }\r\n\r\n    UpdatePost = async (PostID, editedcap) => {\r\n        const { ClassID } = this.props;\r\n        const Date_Time = await this.getDateandTime();\r\n\r\n        var updates = {};\r\n        updates[`/Classes/${ClassID}/Posts/${PostID}/PostText`] = editedcap;\r\n        updates[`/Classes/${ClassID}/Posts/${PostID}/time`] = Date_Time;\r\n        updates[`/Classes/${ClassID}/Posts/${PostID}/isEdited`] = 'true';\r\n\r\n        return database.ref().update(updates, () =>\r\n            this.setState({\r\n                datetime: '',\r\n                editedcap: ''\r\n            })\r\n        );\r\n    }\r\n\r\n    deletePost = (PostID) => {\r\n        const { ClassID } = this.props;\r\n\r\n        var updates = {};\r\n        updates[`/Classes/${ClassID}/Posts/${PostID}/isDeleted`] = true;\r\n        return database.ref().update(updates);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { caption, Classes_Posts, isPostButtonDisabled, editedcap } = this.state;\r\n        const user = this.props.user || { user: {} };        \r\n        // const { user } = this.props;\r\n        // const { avtars, name, caption, time, privacy, likes, images } = this.state;\r\n        // let { includeLike } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"editor\">\r\n                    {/* <div className=''>\r\n                        <div id=\"file_browse_container\">\r\n                            <label htmlFor=\"a-file\" className=\"btn\"><i className=\"far fa-images fa-2x\"></i><b>&nbsp;&nbsp;&nbsp;Choose Images</b></label>\r\n                            <input id=\"a-file\" multiple accept='image/*' name=\"image\" onClick={(e) => this.setAttachmentType(e)} onChange={(e) => this.UploadAllFiles(e)} type=\"file\" className=\"__required\" style={{ visibility: \"hidden\" }} />\r\n                        </div>\r\n\r\n                        <div id=\"file_browse_container\">\r\n                            <label htmlFor=\"b-file\" className=\"btn\"><i className=\"fas fa-video fa-2x\"></i><b>&nbsp;&nbsp;&nbsp;Choose Video</b></label>\r\n                            <input id=\"b-file\" multiple accept='video/*,audio/*' name=\"video\" onClick={(e) => this.setAttachmentType(e)} onChange={(e) => this.UploadAllFiles(e)} type=\"file\" className=\"__required\" style={{ visibility: \"hidden\" }} />\r\n                        </div>\r\n\r\n                        <div id=\"file_browse_container\">\r\n                            <label htmlFor=\"c-file\" className=\"btn\"><i className=\"fas fa-upload fa-2x\"></i><b>&nbsp;&nbsp;&nbsp;Choose files</b></label>\r\n                            <input id=\"c-file\" multiple accept='application/*,text/*' name=\"application\" onClick={(e) => this.setAttachmentType(e)} onChange={(e) => this.UploadAllFiles(e)} type=\"file\" className=\"__required\" style={{ visibility: \"hidden\" }} />\r\n                        </div>\r\n                    </div> */}\r\n\r\n                    <div>\r\n                        <div className=\"editor_caption\">\r\n                            <Input.TextArea value={caption} style={{ resize: 'none' }} rows={3} placeholder=\"Is Every Think ok ?\" onChange={e => this.setState({ caption: e.target.value })} />\r\n                        </div>\r\n                        <div>&nbsp;</div>\r\n                        <div className='pull-right'>\r\n                            <div>\r\n                                <label className='btn btn-primary btn-sm ' onClick={this.PostData} disabled={isPostButtonDisabled}><i className=\"far fa-check-square fa-2x\"></i>&nbsp;&nbsp;&nbsp;Post</label>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div>&nbsp;</div>\r\n\r\n                </div>\r\n                <br />\r\n\r\n\r\n                <div className=\"result\">\r\n                    {\r\n                        Classes_Posts.map((post, index) => {\r\n                            // console.log(Classes_Posts);\r\n                            // console.log(post);\r\n                            // console.log('post.FilesURL', post.FilesURL);\r\n\r\n                            let likesArr;\r\n                            let likes;\r\n                            const files = [];\r\n                            const filesInfo = [];\r\n                            let type_of_files = '';\r\n                            let iLiked = false;\r\n\r\n                            if (post.Files) {\r\n                                const imagekeys = post.Files.image && Object.keys(post.Files.image);\r\n                                post.Files.image &&\r\n                                    imagekeys.forEach(key => {\r\n                                        files.push(post.Files.image[key].url);\r\n                                        type_of_files = 'image';\r\n                                    })\r\n                                const videokeys = post.Files.video && Object.keys(post.Files.video);\r\n                                post.Files.video &&\r\n                                    videokeys.forEach(key => {\r\n                                        files.push(post.Files.video[key].url);\r\n                                        type_of_files = 'video';\r\n                                    })\r\n                                const applicationkeys = post.Files.application && Object.keys(post.Files.application);\r\n                                post.Files.application &&\r\n                                    applicationkeys.forEach(key => {\r\n                                        files.push(post.Files.application[key].url);\r\n                                        filesInfo.push(post.Files.application[key]);\r\n                                        type_of_files = 'application';\r\n                                    })\r\n                            }\r\n\r\n                            if (post.Likes) {\r\n                                likesArr = Object.keys(post.Likes);\r\n                                // console.log(likesArr);\r\n                                likesArr.forEach(id => {\r\n                                    // console.log(id);\r\n                                    if (id === user.user.uid) {\r\n                                        iLiked = true;\r\n                                    }\r\n                                })\r\n                                likes = likesArr.length;\r\n                            }\r\n                            // console.log({iLiked})\r\n\r\n                            return (\r\n                                !post.isDeleted &&\r\n                                <ShowPost\r\n                                    key={post.PostID}\r\n                                    // avtar={avtars[0] ? avtars[0].thumbUrl : false}\r\n                                    name={post.Username}\r\n                                    userid={post.UserId}\r\n                                    time={post.time}\r\n                                    caption={post.PostText}\r\n                                    type_of_files={type_of_files}\r\n                                    files={files}\r\n                                    filesInfo={filesInfo}\r\n                                    deletePost={this.deletePost}\r\n                                    UpdatePost={this.UpdatePost}\r\n                                    isEdited={post.isEdited}\r\n                                    editedcaption={editedcap}\r\n                                    PostID={post.PostID}\r\n                                    likes={likes}\r\n                                    iLiked={iLiked}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // updateUser: (user) => dispatch(updateUser(user)),\r\n        // updateUserInfo: (userinfo) => dispatch(updateUserInfo(userinfo))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);  \r\n","import React from 'react';\r\nimport firebase from '../../firebase/firebase';\r\n// import pp from '../../Images/Sir.jpg';\r\nimport './ListOfClasses.css';\r\n// import Home from '../Home/Home';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport * as routes from '../../constants/routes';\r\n\r\nimport { Card, CardText, CardBody, Input, UncontrolledDropdown, Button, CardHeader, CardFooter, DropdownMenu, DropdownItem, DropdownToggle } from 'reactstrap';\r\n// import { Divider } from 'antd';\r\nimport { message, Modal } from 'antd';\r\nimport { Collapse } from 'antd';\r\nimport { updateClassId, removeClassId } from '../../redux/ClassID/ClassIDActions';\r\nimport { removeRecieverId } from '../../redux/MessageRecieverID/RecieverIDActions';\r\n// import { updateUser } from '../../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\nconst Panel = Collapse.Panel;\r\nconst database = firebase.database();\r\nlet myClassesRef;\r\n\r\n\r\nclass ListOfClasses extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusers: {},\r\n\t\t\tjoinclassName: '',\r\n\t\t\tjoinclassCode: '',\r\n\t\t\tnameOfUser: '',\r\n\t\t\tclassname: '',\r\n\t\t\tsubjectname: '',\r\n\t\t\tgeneratedclasscode: '',\r\n\t\t\tisGenerateCodeDisabled: true,\r\n\t\t\tshowCodeInput: false,\r\n\t\t\tCreateClassButtonDisabled: true,\r\n\t\t\tJoinClassButtonDisabled: true,\r\n\t\t\tUserz_Classes: [],\r\n\t\t\teditableClassname: '',\r\n\t\t\teditableSubject: '',\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\tvisibles: false,\r\n\t\t\tconfirmLoadings: false,\r\n\t\t\tUpdateButtonDisabled: true\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.removeClassId();\r\n\t\tthis.props.removeRecieverId();\r\n\t\tthis.ShowAllClassesOfUser();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tmyClassesRef.off();\r\n\t}\r\n\r\n\tshowModalClassCode = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisibles: true,\r\n\t\t});\r\n\t}\r\n\thandleOkforclasscode = () => {\r\n\t\tthis.setState({\r\n\t\t\tModalText: 'The modal will be closed after two seconds',\r\n\t\t\tconfirmLoadings: true,\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisibles: false,\r\n\t\t\t\tconfirmLoadings: false,\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t}\r\n\thandleCancelforclasscode = () => {\r\n\t\tconsole.log('Clicked cancel button');\r\n\t\tthis.setState({\r\n\t\t\tvisibles: false,\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tshowModalForEdit = (Prevclassname, PrevSubject) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\teditableClassname: Prevclassname,\r\n\t\t\teditableSubject: PrevSubject\r\n\t\t});\r\n\t}\r\n\tEditClassInfo = (Classid, editedClassname, editedSubject) => {\r\n\t\tthis.setState({\r\n\t\t\tModalText: 'The modal will be closed after two seconds',\r\n\t\t\tconfirmLoading: true,\r\n\t\t},\r\n\t\t\t() => this.UpdateClassInfo(Classid, editedClassname, editedSubject));\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tconfirmLoading: false,\r\n\t\t\t});\r\n\t\t}, 1000);\r\n\t}\r\n\tUpdateClassInfo = (Classid, editedClassname, editedSubject) => {\r\n\t\tvar updates = {};\r\n\t\tupdates[`/Classes/${Classid}/classname`] = editedClassname;\r\n\t\tupdates[`/Classes/${Classid}/subjectName`] = editedSubject;\r\n\r\n\t\t// return database.ref().update(updates, () => {\r\n\t\tdatabase.ref(`Classes/${Classid}/Members`).once('value', students => {\r\n\t\t\tconst stds = students.val();\r\n\t\t\tfor (var key in stds) {\r\n\t\t\t\tconst studentID = stds[key].userid;\r\n\t\t\t\t// var updatesInUsersNode = {};\r\n\t\t\t\tupdates[`Users/${studentID}/MyClasses/${Classid}/classname`] = editedClassname;\r\n\t\t\t\tupdates[`Users/${studentID}/MyClasses/${Classid}/subjectName`] = editedSubject;\r\n\t\t\t}\r\n\t\t\treturn database.ref().update(updates);\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\t//\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t// })\r\n\t}\r\n\thandleCancelForUpdate = () => {\r\n\t\tconsole.log('Clicked cancel button');\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t\tUpdateButtonDisabled: true\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\tShowAllClassesOfUser = () => {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\t// SHOW ALL CLASSES OF A USER.......\r\n\t\tconst authUserId = user.user.uid;\r\n\t\t// console.log(\"authUserId\", authUserId);\r\n\t\tmyClassesRef = database.ref(`Users/${authUserId}/MyClasses`);\r\n\t\tmyClassesRef.on('value', (MyClassex) => {\r\n\t\t\t// console.log(\"MyClass.val()\", MyClassex.val())\r\n\t\t\tlet myClasses = MyClassex.val();\r\n\t\t\tlet filteredClasses = [];\r\n\t\t\tlet filteredkeys = [];\r\n\t\t\tif (myClasses !== null) {\r\n\t\t\t\tfor (var key in myClasses) {\r\n\t\t\t\t\tif (myClasses.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t// console.log(key + \" -> \" + myClasses[key]);\r\n\t\t\t\t\t\tfilteredClasses.push(myClasses[key])\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfilteredkeys.push(Object.keys(myClasses));\r\n\t\t\t\t// console.log('myClasses.key', myClasses);\r\n\t\t\t\t// console.log('giltereedkeys', filteredkeys[0]);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tClassKeys: filteredkeys[0],\r\n\t\t\t\t\tUserz_Classes: filteredClasses\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tSelectedClassIDfromCardClick = (ClassKeys, index) => {\r\n\t\tthis.setState({ ClassID: ClassKeys[index] }) // is line ko safely comment bhe kr skte haiin\r\n\t\tthis.props.updateClassId(ClassKeys[index]);\r\n\t\tthis.props.history.push(routes.HOME);\r\n\t}\r\n\t// ..........................................................................................\r\n\tCreateClass = () => {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\t// YAHAN PE JAB BHI ERROR AE SMJH JAO DB ME WO WALA USER EXIST NAI KRTA\r\n\t\tconst authUserId = user.user.uid;\r\n\t\t// console.log(\"authUserId\", authUserId);\r\n\t\tdatabase.ref('Users/' + authUserId).once('value', (authUserId) => {\r\n\t\t\t// console.log(\"authUserId\", authUserId);\r\n\t\t\t// console.log(\"authUserId.VAL()\", authUserId.val());\r\n\t\t\t// console.log(\"Object.keys(authUserId)\", Object.keys(authUserId));\r\n\r\n\t\t\tconst username = authUserId.val().username;\r\n\t\t\tthis.setState({ nameOfUser: username });\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst { nameOfUser, classname, subjectname, generatedclasscode } = this.state;\r\n\r\n\t\t\t\t// add a new class to the Classes node in DB\r\n\t\t\t\tconst newClassRef = database.ref('Classes').push();\r\n\t\t\t\tconst ClassID = newClassRef.key;\r\n\t\t\t\tnewClassRef.set({\r\n\t\t\t\t\tclassId: ClassID,\r\n\t\t\t\t\tisDeleted: false,\r\n\t\t\t\t\tclassname: classname,\r\n\t\t\t\t\tsubjectName: subjectname,\r\n\t\t\t\t\tteacherID: authUserId,\r\n\t\t\t\t\tteacherName: nameOfUser,\r\n\t\t\t\t\tclasscode: generatedclasscode\r\n\t\t\t\t})\r\n\t\t\t\tthis.postClassDataInUsersNode(subjectname, generatedclasscode, authUserId, ClassID, classname, nameOfUser, authUserId);\r\n\t\t\t\tthis.postUserDataInClassesNode(authUserId, nameOfUser, ClassID);\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tmessage.success('New Class Created');\r\n\t\t\t\tconsole.log(\"Class Created\");\r\n\t\t\t\tdocument.getElementById('code').style.display = 'none';\r\n\t\t\t\tdocument.getElementById('generateCodeButton').disabled = false;\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tclassname: '',\r\n\t\t\t\t\tsubjectname: '',\r\n\t\t\t\t\tgeneratedclasscode: '',\r\n\t\t\t\t\tCreateClassButtonDisabled: true\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tmessage.error(`${error}`);\r\n\t\t\t\tconsole.log(\"Error creating class !\");\r\n\t\t\t\tconsole.log(error.code);\r\n\t\t\t\tconsole.log(error.message);\r\n\t\t\t})\r\n\t}\r\n\tpostClassDataInUsersNode = (subjectname, generatedclasscode, authUserId, ClassID, classname, teachername, teacherID) => {\r\n\t\t// Write the new class's data simultaneously in the MyClasses node in the User's list.\r\n\t\tvar ClassData = {\r\n\t\t\tClassID: ClassID,\r\n\t\t\tsubjectName: subjectname,\r\n\t\t\tclasscode: generatedclasscode,\r\n\t\t\tclassname: classname,\r\n\t\t\tteachername: teachername,\r\n\t\t\tteacherID: teacherID\r\n\t\t};\r\n\t\treturn database.ref(`/Users/${authUserId}/MyClasses/${ClassID}`).update(ClassData);\r\n\t}\r\n\tpostUserDataInClassesNode = (authUserId, nameOfUser, ClassID) => {\r\n\t\t// Write the new user's data simultaneously in the Members node in the Classes's list.\r\n\t\tvar UsersData = {\r\n\t\t\tusername: nameOfUser,\r\n\t\t\tuserid: authUserId\r\n\t\t};\r\n\t\tvar userUpdates = {};\r\n\t\tuserUpdates[`/Classes/${ClassID}/Members/${authUserId}`] = UsersData;\r\n\t\treturn database.ref().update(userUpdates);\r\n\t}\r\n\tGenerateCode = () => {\r\n\t\tconst code = Math.random().toString(36).slice(2, 8).toUpperCase();\r\n\t\tthis.setState({ showCodeInput: true, isGenerateCodeDisabled: true });\r\n\r\n\t\tconst myEvent = {\r\n\t\t\ttarget: {\r\n\t\t\t\tname: 'generatedclasscode',\r\n\t\t\t\tvalue: code\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.updateValue_Create(myEvent);\r\n\t\tmessage.info(\"Class Code Generated\");\r\n\t}\r\n\t// ..........................................................................................\r\n\tJoinClass = () => {\r\n\t\tconst { joinclassName, joinclassCode } = this.state;\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tconst authUserId = user.user.uid;\r\n\t\t// console.log(\"authUserId\", authUserId);\r\n\t\tdatabase.ref('Users/' + authUserId).once('value', (authUserId) => {\r\n\t\t\tconst username = authUserId.val().username;\r\n\t\t\tthis.setState({ nameOfUser: username });\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst { nameOfUser } = this.state;\r\n\r\n\t\t\t\tdatabase.ref('Classes').once('value', Classes => {\r\n\t\t\t\t\tClasses.forEach(data => {\r\n\t\t\t\t\t\tconst Class = data.val();\r\n\t\t\t\t\t\t// console.log(Class.classname);\r\n\r\n\t\t\t\t\t\tif (Class.classname === joinclassName && Class.classcode === joinclassCode) {\r\n\t\t\t\t\t\t\t// console.log(\"Class=>\", Class);\r\n\r\n\t\t\t\t\t\t\tconst classID = data.key;\r\n\t\t\t\t\t\t\tconst classCode = Class.classcode;\r\n\t\t\t\t\t\t\tconst className = Class.classname;\r\n\t\t\t\t\t\t\tconst classSubject = Class.subjectName;\r\n\t\t\t\t\t\t\tconst teacherName = Class.teacherName;\r\n\t\t\t\t\t\t\tconst teacherID = Class.teacherID;\r\n\r\n\t\t\t\t\t\t\tthis.postJoinClassDataInUsersNode(classSubject, classCode, authUserId, classID, className, teacherName, teacherID);\r\n\t\t\t\t\t\t\tthis.postJoinUserDataInClassesNode(authUserId, nameOfUser, classID);\r\n\t\t\t\t\t\t\tconsole.log(\"Class Joined\");\r\n\t\t\t\t\t\t\tmessage.success('Class Joined');\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.warning('Invalid Classname or Code');\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tjoinclassName: '',\r\n\t\t\t\t\tjoinclassCode: '',\r\n\t\t\t\t\tJoinClassButtonDisabled: true\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tmessage.error(`${error}`);\r\n\t\t\t\tconsole.log(\"Error joining class !\");\r\n\t\t\t\tconsole.log(error.code);\r\n\t\t\t\tconsole.log(error.message);\r\n\t\t\t})\r\n\t}\r\n\tpostJoinClassDataInUsersNode = (classSubject, classCode, authUserId, classID, classname, teachername, teacherID) => {\r\n\t\t// Write the new class's data simultaneously in the MyClasses node in the User's list.\r\n\t\tvar ClassData = {\r\n\t\t\tClassID: classID,\r\n\t\t\tsubjectName: classSubject,\r\n\t\t\tclasscode: classCode,\r\n\t\t\tclassname: classname,\r\n\t\t\tteachername: teachername,\r\n\t\t\tteacherID: teacherID\r\n\t\t};\r\n\t\tvar classUpdates = {};\r\n\t\tclassUpdates[`/Users/${authUserId}/MyClasses/${classID}`] = ClassData;\r\n\t\treturn database.ref().update(classUpdates);\r\n\t}\r\n\tpostJoinUserDataInClassesNode = (authUserId, nameOfUser, ClassID) => {\r\n\t\t// Write the new user's data simultaneously in the Members node in the Classes's list.\r\n\t\tvar UsersData = {\r\n\t\t\tusername: nameOfUser,\r\n\t\t\tuserid: authUserId\r\n\t\t};\r\n\t\tvar userUpdates = {};\r\n\t\tuserUpdates[`/Classes/${ClassID}/Members/${authUserId}`] = UsersData;\r\n\t\treturn database.ref().update(userUpdates);\r\n\t}\r\n\t// ..........................................................................................\r\n\tupdateValue_Join = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value },\r\n\t\t\t() => {\r\n\t\t\t\t(this.state.joinclassCode && this.state.joinclassName) ?\r\n\t\t\t\t\tthis.setState({ JoinClassButtonDisabled: false }) : this.setState({ JoinClassButtonDisabled: true });\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\tupdateValue_Create = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value },\r\n\t\t\t() => {\r\n\t\t\t\tif (this.state.classname && this.state.subjectname) {\r\n\t\t\t\t\tthis.setState({ isGenerateCodeDisabled: false })\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({ isGenerateCodeDisabled: true, showCodeInput: false })\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.state.classname && this.state.subjectname && this.state.generatedclasscode) {\r\n\t\t\t\t\tthis.setState({ CreateClassButtonDisabled: false })\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.setState({ CreateClassButtonDisabled: true })\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t// ..........................................................................................\r\n\tLeaveClass = (cls_ID) => {\r\n\t\tconst { user } = this.props;\r\n\t\tconst userid = user.user.uid;\r\n\t\tconsole.log('cls_ID', cls_ID);\r\n\t\tconsole.log('userid', userid);\r\n\r\n\t\tdatabase.ref(`Users/${userid}/MyClasses/${cls_ID}`).remove();\r\n\t\tdatabase.ref(`Classes/${cls_ID}/Members/${userid}`).remove();\r\n\t\tconsole.log(\"Class Left\");\r\n\t\tmessage.warning('Class Left');\r\n\t}\r\n\tDeleteClass = (cls_ID) => {\r\n\t\tdatabase.ref(`Classes/${cls_ID}/Members`).once('value', students => {\r\n\t\t\tconst stds = students.val();\r\n\t\t\tfor (var key in stds) {\r\n\t\t\t\tconst studentID = stds[key].userid;\r\n\t\t\t\tdatabase.ref(`Users/${studentID}/MyClasses/${cls_ID}`).remove();\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tvar updates = {};\r\n\t\t\t\tupdates[`/Classes/${cls_ID}/isDeleted`] = true;\r\n\t\t\t\tmessage.warning('Class Deleted')\r\n\t\t\t\treturn database.ref().update(updates);\r\n\t\t\t})\r\n\t\t// .then(() => removeClassId())\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value }, () => {\r\n\t\t\tif (this.state.editedClassname === '' || this.state.editedSubject === '') {\r\n\t\t\t\tthis.setState({ UpdateButtonDisabled: true })\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setState({ UpdateButtonDisabled: false })\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst { Userz_Classes, ClassKeys, generatedclasscode, classname, subjectname, joinclassName, joinclassCode, isGenerateCodeDisabled, showCodeInput, CreateClassButtonDisabled, JoinClassButtonDisabled, visible, confirmLoading, visibles, confirmLoadings, editableClassname, editableSubject, UpdateButtonDisabled } = this.state;\r\n\t\t// const { user } = this.props;\r\n\t\tconst user = this.props.user || { user: {} };\r\n\t\t// console.log('Userz_Classes', Userz_Classes);\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\r\n\t\t\t\t<div className='hidden-lg hidden-md'>\r\n\t\t\t\t\t<Collapse>\r\n\t\t\t\t\t\t<Panel header=\"Join/Create Class\">\r\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', border: '1px solid #007BFF', borderRadius: '25px', backgroundColor: '#FFFFFF' }} className='col-md-3 col-sm-6 col-lg-3 col-xs-12'>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t\t<h3>Join a Class Room</h3>\r\n\t\t\t\t\t\t\t\t<Input bsSize='lg' value={joinclassName} name=\"joinclassName\" onChange={e => this.updateValue_Join(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Name\" /><br />\r\n\t\t\t\t\t\t\t\t<Input bsSize='lg' value={joinclassCode} name=\"joinclassCode\" onChange={e => this.updateValue_Join(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Code\" /><br />\r\n\t\t\t\t\t\t\t\t<Button color='primary' type=\"button\" className=\"btn btn-default btn-block\" disabled={JoinClassButtonDisabled} onClick={this.JoinClass}>Join</Button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<h3>Create a Class Room</h3>\r\n\t\t\t\t\t\t\t\t<Input bsSize='lg' value={classname} name=\"classname\" onChange={e => this.updateValue_Create(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Name\" required /><br />\r\n\t\t\t\t\t\t\t\t<Input bsSize='lg' value={subjectname} name=\"subjectname\" onChange={e => this.updateValue_Create(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Subject\" required /><br />\r\n\t\t\t\t\t\t\t\t<Button outline color='primary' className='btn btn-block' id='generateCodeButton' type=\"button\" disabled={isGenerateCodeDisabled} onClick={this.GenerateCode}>Create Class</Button>\r\n\t\t\t\t\t\t\t\t<Input bsSize='lg' id='code' style={{ display: showCodeInput ? 'block' : 'none' }} value={generatedclasscode} name=\"generatedclasscode\" onChange={e => this.updateValue_Create(e)} type=\"text\" readOnly />\r\n\t\t\t\t\t\t\t\t<Button color='primary' type=\"button\" style={{ margin: '0px 0px 10px 0px' }} className=\"btn btn-block\" disabled={CreateClassButtonDisabled} onClick={this.CreateClass}>Add</Button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* JOIN AND CREATE CLASS */}\r\n\t\t\t\t<div style={{ textAlign: 'center', border: '1px solid #007BFF', borderRadius: '25px', backgroundColor: '#FFFFFF' }} className='col-md-3 hidden-sm col-lg-3 hidden-xs'>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t<h3>Join a Class Room</h3>\r\n\t\t\t\t\t<Input bsSize='lg' value={joinclassName} name=\"joinclassName\" onChange={e => this.updateValue_Join(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Name\" /><br />\r\n\t\t\t\t\t<Input bsSize='lg' value={joinclassCode} name=\"joinclassCode\" onChange={e => this.updateValue_Join(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Code\" /><br />\r\n\t\t\t\t\t<Button color='primary' type=\"button\" className=\"btn btn-default btn-block\" disabled={JoinClassButtonDisabled} onClick={this.JoinClass}>Join</Button>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<h3>Create a Class Room</h3>\r\n\t\t\t\t\t<Input bsSize='lg' value={classname} name=\"classname\" onChange={e => this.updateValue_Create(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Name\" required /><br />\r\n\t\t\t\t\t<Input bsSize='lg' value={subjectname} name=\"subjectname\" onChange={e => this.updateValue_Create(e)} type=\"text\" className='placeholder-input form-control' placeholder=\"Class Subject\" required /><br />\r\n\t\t\t\t\t<Button outline color='primary' className='btn btn-block' id='generateCodeButton' type=\"button\" disabled={isGenerateCodeDisabled} onClick={this.GenerateCode}>Create Class</Button>\r\n\t\t\t\t\t<Input bsSize='lg' id='code' style={{ display: showCodeInput ? 'block' : 'none' }} value={generatedclasscode} name=\"generatedclasscode\" onChange={e => this.updateValue_Create(e)} type=\"text\" readOnly />\r\n\t\t\t\t\t<Button color='primary' type=\"button\" style={{ margin: '0px 0px 10px 0px' }} className=\"btn btn-block\" disabled={CreateClassButtonDisabled} onClick={this.CreateClass}>Add</Button>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* SHOW CLASS LIST */}\r\n\t\t\t\t<div className='col-md-9 col-sm-6 col-lg-9 col-xs-6'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tUserz_Classes.map((cls, index) => {\r\n\t\t\t\t\t\t\t// console.log(cls.ClassID);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Card className=\"col-sm-5 col-lg-5 col-md-5\" id='classesHover' outline color='primary' key={cls.ClassID} body style={{ width: '30rem', margin: '10px' }}>\r\n\t\t\t\t\t\t\t\t\t<CardHeader><h3 className='classname'>{cls.classname}</h3></CardHeader>\r\n\t\t\t\t\t\t\t\t\t<CardBody onClick={() => this.SelectedClassIDfromCardClick(ClassKeys, index)}>\r\n\t\t\t\t\t\t\t\t\t\t{/* <h3 color='dark'>{cls.classname}</h3> */}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<CardText className='classname'>{cls.subjectName}</CardText>\r\n\t\t\t\t\t\t\t\t\t\t<CardText className='classname'>Admin : {cls.teachername}</CardText>\r\n\t\t\t\t\t\t\t\t\t</CardBody>\r\n\r\n\t\t\t\t\t\t\t\t\t<CardFooter>\r\n\t\t\t\t\t\t\t\t\t\t<UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t<DropdownToggle className='pull-right' style={{ backgroundColor: '#F7F7F7', zIndex: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='dot' /><span className='dot' /><span className='dot' />\r\n\t\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(user.user.uid === cls.teacherID) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={() => this.showModalForEdit(cls.classname, cls.subjectName)}><i className=\"far fa-edit\"></i>&nbsp;Edit Class/Subject Name</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Modal title=\"Edit Class Name/Subject\" visible={visible} confirmLoading={confirmLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonOk={() => this.EditClassInfo(cls.ClassID, editableClassname, editableSubject)} onCancel={this.handleCancelForUpdate}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooter={[<Button key='cancel' onClick={this.handleCancelForUpdate}>Cancel</Button>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button key='update' type=\"primary\" disabled={UpdateButtonDisabled} onClick={() => this.EditClassInfo(cls.ClassID, editableClassname, editableSubject)}>Update</Button>,]}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input value={editableClassname} name='editableClassname' onChange={(e) => this.handleChange(e)} className='form-control' type='text' placeholder='New Class Name' /><br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input value={editableSubject} name='editableSubject' onChange={(e) => this.handleChange(e)} className='form-control' type='text' placeholder='New Subject Name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Modal>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(user.user.uid === cls.teacherID) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={this.showModalClassCode}><i className=\"far fa-eye\"></i>&nbsp;Show Class Code</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Modal title=\"Class Code\" visible={visibles} onOk={this.handleOkforclasscode} confirmLoading={confirmLoadings} onCancel={this.handleCancelforclasscode} footer={''}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>{cls.classcode}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Modal>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(user.user.uid !== cls.teacherID)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <DropdownItem onClick={() => this.LeaveClass(cls.ClassID)}><i className=\"fas fa-ban\"></i>&nbsp;Leave Class</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <DropdownItem onClick={() => this.DeleteClass(cls.ClassID)}><i className=\"fas fa-trash\"></i>&nbsp;Delete Class</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t\t</CardFooter>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t// style={{backgroundColor:'blue', width:'inherit',margin:'0px 0px 0px -13px'}}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.authReducers.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t// updateUser: (user) => dispatch(updateUser(user)),\r\n\t\tupdateClassId: (ClassId) => dispatch(updateClassId(ClassId)),\r\n\t\tremoveClassId: () => dispatch(removeClassId()),\r\n\t\tremoveRecieverId: () => dispatch(removeRecieverId())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ListOfClasses);\r\n","import React from 'react';\r\n// import imgicon from '../../Images/Sir.jpg';\r\nimport './Messages.css';\r\nimport firebase from '../../firebase/firebase';\r\nimport { Button } from 'reactstrap';\r\n// import defaultAvtar from '../../Images/default-avatar.jpg';\r\nimport classroomdefaultavatar from '../../Images/classroom-default-avatar.jpg';\r\nimport { updateRecieverId } from '../../redux/MessageRecieverID/RecieverIDActions';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst database = firebase.database();\r\n\r\nlet retrieverRef;\r\nlet retrieverRefx;\r\n\r\n\r\nclass Messages extends React.Component {\r\n    static defaultProps = {\r\n        avtar: false,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            AllUsersArr: [],\r\n            newMessage: '',\r\n            uniques: [],\r\n            retrievedMessages: [],\r\n            otherpersonID: '',\r\n            otherpersonName: '',\r\n            Chats: [],\r\n            SendButtonDisabled: true\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        // const {Chats} = this.state; // aise nai chaltaa nichey\r\n        await this.RetrieveInboxUserAndMessages();\r\n        await this.ShowAllUsers();\r\n        // console.log(this.state.Chats[0]);\r\n        this.state.Chats.length && await this.RetrieveAllMessagesOfSelectedUser(this.state.Chats[0].userid, this.state.Chats[0].username);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        retrieverRef.off();\r\n        retrieverRefx.off();\r\n    }\r\n\r\n    ShowAllUsers = async () => {\r\n        const { UserInfo } = this.props;\r\n        const userid = UserInfo.userid;\r\n\r\n        const UsersClasses = await database.ref(`Users/${userid}/MyClasses`).once('value');\r\n        const UsersClassesData = UsersClasses.val();\r\n        const classKeys = Object.keys(UsersClassesData);\r\n\r\n        let UsersWithoutKey = [];\r\n        for (const classid of classKeys) {\r\n            const MembersRef = await database.ref(`Classes/${classid}/Members`).once('value');\r\n            const MembersData = MembersRef.val();\r\n            UsersWithoutKey = [...UsersWithoutKey, ...Object.values(MembersData)];\r\n        }\r\n\r\n        const uniqueUsers = UsersWithoutKey.filter((obj, pos, arr) => arr.map(mapObj => mapObj['userid']).indexOf(obj['userid']) === pos);\r\n        // console.log('Users List from all classes', uniqueUsers);\r\n        this.setState({ AllUsersArr: uniqueUsers });\r\n    }\r\n\r\n\r\n    SendMessage = async (retrieverID) => {\r\n        const { newMessage, otherpersonName, otherpersonID } = this.state;\r\n        const { UserInfo } = this.props;\r\n        const senderID = UserInfo.userid;\r\n        const senderName = UserInfo.username;\r\n\r\n\r\n\r\n        await database.ref(`Conversations/${retrieverID}/${senderID}`).once('value', async (snap) => {\r\n            if (!snap.val()) {\r\n                const newSenderRef = await database.ref(`Conversations/${retrieverID}/${senderID}`);\r\n                await newSenderRef.set({\r\n                    userid: senderID,\r\n                    username: senderName,\r\n                    latestTimestamp: Date.now(),\r\n                    latestMessage: newMessage,\r\n                    unread: true\r\n                })\r\n            }\r\n            else {\r\n                var updates3 = {};\r\n                updates3[`/Conversations/${retrieverID}/${senderID}/latestTimestamp`] = Date.now();\r\n                updates3[`/Conversations/${retrieverID}/${senderID}/latestMessage`] = newMessage;\r\n                updates3[`/Conversations/${retrieverID}/${senderID}/unread`] = true;\r\n                return database.ref().update(updates3);\r\n            }\r\n        })\r\n\r\n        const newMsgRetrieverRef = await database.ref(`Conversations/${retrieverID}/${senderID}/Messages`);\r\n        const msgID = await newMsgRetrieverRef.push().key;\r\n        await newMsgRetrieverRef.child(msgID).set({\r\n            messageText: newMessage,\r\n            messageid: msgID,\r\n            chatid: retrieverID\r\n        })\r\n\r\n\r\n        await database.ref(`Conversations/${senderID}/${retrieverID}`).once('value', async (snap) => {\r\n            if (!snap.val()) {\r\n                const newSenderRef = await database.ref(`Conversations/${senderID}/${retrieverID}`);\r\n                await newSenderRef.set({\r\n                    userid: otherpersonID,\r\n                    username: otherpersonName,\r\n                    latestTimestamp: Date.now(),\r\n                    latestMessage: newMessage,\r\n                    // unread: true\r\n                })\r\n            }\r\n            else {\r\n                var updates4 = {};\r\n                updates4[`/Conversations/${senderID}/${retrieverID}/latestTimestamp`] = Date.now();\r\n                updates4[`/Conversations/${senderID}/${retrieverID}/latestMessage`] = newMessage;\r\n                // updates4[`/Conversations/${senderID}/${retrieverID}/unread`] = true;\r\n                return database.ref().update(updates4);\r\n            }\r\n        })\r\n\r\n        const newMesgRetrieverRef = await database.ref(`Conversations/${senderID}/${retrieverID}/Messages`);//new\r\n        await newMesgRetrieverRef.child(msgID).set({\r\n            messageText: newMessage,\r\n            messageid: msgID,\r\n            chatid: retrieverID\r\n        })\r\n        this.setState({ newMessage: '' });\r\n    }\r\n\r\n\r\n    RetrieveInboxUserAndMessages = async () => {\r\n        const { UserInfo } = this.props;\r\n        const retrieverid = UserInfo.userid;\r\n\r\n        retrieverRefx = await database.ref(`Conversations/${retrieverid}`).orderByChild('latestTimestamp');\r\n        await retrieverRefx.on('value', (conversation) => {\r\n            const CONVO = conversation.val();\r\n            // console.log('CONVO', CONVO);\r\n            const con = CONVO && Object.values(CONVO);\r\n            con && con.forEach(async (cnvrstion) => {\r\n                // console.log('Inbox users ids', cnvrstion.userid);\r\n                const eachConvoInfo = {\r\n                    latestMessage: cnvrstion.latestMessage,\r\n                    latestTimestamp: cnvrstion.latestTimestamp,\r\n                    userid: cnvrstion.userid,\r\n                    username: cnvrstion.username\r\n                }\r\n                await this.setState({ Chats: [] });\r\n                await this.setState({ Chats: [...this.state.Chats, eachConvoInfo] }, () => {\r\n                    // console.log(this.state.Chats);\r\n                })\r\n            })\r\n\r\n        })\r\n    }\r\n\r\n\r\n    RetrieveAllMessagesOfSelectedUser = (senderid, sendername) => {\r\n        const { UserInfo } = this.props;\r\n        const retrieverid = UserInfo.userid;\r\n        this.props.updateRecieverId(retrieverid);\r\n        var exists = false;\r\n        retrieverRef = database.ref(`Conversations/${retrieverid}/${senderid}/Messages`);\r\n        retrieverRef.on('value', (messages) => {\r\n            const msgs = messages.val();\r\n            // console.log('msgs', msgs);\r\n            let messagesArr = [];\r\n            if (msgs !== null) {\r\n                exists = true;\r\n                const msgsKeys = Object.keys(msgs);\r\n                msgsKeys.forEach((id) => {\r\n                    // console.log(msgs[id]);\r\n                    messagesArr.push(msgs[id]);\r\n                })\r\n            }\r\n            this.setState({\r\n                retrievedMessages: messagesArr,\r\n                otherpersonID: senderid,\r\n                otherpersonName: sendername\r\n            });\r\n        })\r\n        if (exists) {\r\n            var updatezz = {};\r\n            updatezz[`/Conversations/${retrieverid}/${senderid}/unread`] = false;\r\n            updatezz[`/Conversations/${senderid}/${retrieverid}/unread`] = false;\r\n            // updatezz[`/Sender/${retrieverid}/${senderid}/unread`] = false;\r\n            // updatezz[`/Sender/${senderid}/${retrieverid}/unread`] = false;\r\n            return database.ref().update(updatezz);\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value }, () => {\r\n            this.state.newMessage ? this.setState({ SendButtonDisabled: false }) : this.setState({ SendButtonDisabled: true })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { newMessage, AllUsersArr, retrievedMessages, otherpersonID, otherpersonName, Chats, SendButtonDisabled } = this.state;\r\n        const { avtar } = this.props;\r\n        // const user = this.props.user || { user: {} };\r\n        const UserInfo = this.props.UserInfo || { UserInfo: {} };\r\n\r\n        return (\r\n            <div className='container-fluid row' style={{backgroundColor:'#90A4AE',marginTop:'-20px'}}>\r\n\r\n                <div className='hidden-xs hidden-sm col-md-3 col-lg-3' style={{backgroundColor:''}}>\r\n                    <h3 className='AlignMiddle' id='messHead'>Inbox</h3>\r\n                    <div id='bodyMessage' className='overflow'>\r\n                        {\r\n                            Chats.map((chat) => {\r\n                                return (\r\n                                    <div key={chat.userid} className='classname recents' onClick={() => this.RetrieveAllMessagesOfSelectedUser(chat.userid, chat.username)}>\r\n\r\n                                        <div className='avatarmess col-xs-3 col-sm-3 col-md-3 col-lg-3'>\r\n                                            <img className='img-responsive' src={avtar ? avtar : classroomdefaultavatar} alt=\"Img\" />\r\n                                        </div>\r\n\r\n                                        <div className='classname col-xs-9 col-sm-9 col-md-9 col-lg-9' style={{ paddingLeft: '10px' }}>\r\n                                            {\r\n                                                chat.unread ?\r\n                                                    <>\r\n                                                        <p><b>{chat.username}</b></p>\r\n                                                        <p className='classname'><b>{chat.latestMessage}</b></p>\r\n                                                    </>\r\n                                                    :\r\n                                                    <>\r\n                                                        <span>{chat.username}</span>\r\n                                                        <p className='classname'>{chat.latestMessage}</p>\r\n                                                    </>\r\n                                            }\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='col-xs-12 col-sm-12 col-md-12 col-lg-7' style={{backgroundColor:''}}>\r\n                    <h3 id='messHead'>{otherpersonName}</h3>\r\n                    <div>\r\n                        <ScrollToBottom id='bodyMessage' className='overflowMess'>\r\n                            {\r\n                                retrievedMessages.map((eachmsg) => {\r\n                                    return (\r\n                                        <div key={eachmsg.messageid} className={(UserInfo.userid === eachmsg.chatid) ? 'messcontainer' : 'messcontainer darker'} style={{ display: 'inline-block' }}>\r\n                                            <img src={/*imgicon*/ classroomdefaultavatar} className={(UserInfo.userid === eachmsg.chatid) ? '' : 'right'} alt=\"\" style={{ width: '40px', height: '40px' }} />\r\n                                            <p>{eachmsg.messageText}</p>\r\n                                            <span className={(UserInfo.userid === eachmsg.chatid) ? 'time-right' : 'time-left'}>11:00</span>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ScrollToBottom>\r\n\r\n                        {this.props.RecieverId &&\r\n                            <div className='align-center container row' style={{ padding: '30px 10px 0px 20px' }}>\r\n                                <textarea style={{ resize: 'none', border: 'solid 1px #007BFF' }} value={newMessage} rows={2} name='newMessage' onChange={e => this.handleChange(e)} className='col-sm-12 col-md-12 col-lg-10 form-control' />\r\n                                <Button color='primary' className='col-xs-12 col-sm-12 col-md-12 col-lg-2' onClick={() => this.SendMessage(otherpersonID)} disabled={SendButtonDisabled} id='btnSnd' size='md'>Send &nbsp;<i className=\"fas fa-share\"></i></Button>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='col-xs-12 col-sm-12 col-md-12 col-lg-2' style={{backgroundColor:''}}>\r\n                    <h3 id='messHead'>People You Know</h3>\r\n                    <div id='bodyMessage' className='overflow float-right'>{\r\n                        AllUsersArr.map((user) => {\r\n                            if (user.userid !== UserInfo.userid) {\r\n                                return (\r\n                                    <div key={user.userid} className='recents' onClick={() => this.RetrieveAllMessagesOfSelectedUser(user.userid, user.username)}>\r\n                                        {user.username}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            return null;\r\n                        })\r\n                    }\r\n                    </div>\r\n                </div>\r\n            </div >\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info,\r\n        RecieverId: state.RecieverIDReducers.RecieverId,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateRecieverId: (RecieverId) => dispatch(updateRecieverId(RecieverId)),\r\n        // updateUser: (user) => dispatch(updateUser(user)),\r\n        // updateUserInfo: (userinfo) => dispatch(updateUserInfo(userinfo))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Messages);  \r\n","import React, { Component } from 'react';\r\nimport withAuthorization from '../withAuthorization';\r\nimport Post from '../Wall/Post';\r\nimport '../Home/Home.css';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass HomePage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className='container-fluid'>\r\n\r\n                <div className='SideBar hidden-xs hidden-sm hidden-md col-lg-2' style={{ border: '1px solid #007BFF', borderRadius: '25px', backgroundColor: '#FFFFFF' }} >\r\n\r\n                    <div className='text-center col-md-12 col-xs-12 col-sm-12 col-lg-12'>\r\n                        <h2 style={{ fontFamily: 'Times New Roman, Times, serif' }}>Assignments Center</h2>\r\n                        <br />\r\n                    </div>\r\n                    <h4>Upcoming</h4>\r\n                    <br />\r\n                    <h5 style={{ color: '#a6a7a8' }}>Due Today</h5>\r\n                    <p>11:59 PM - Assignment # 1</p>\r\n                    <h5 style={{ color: '#a6a7a8' }}>Due Tommorow</h5>\r\n                    <p>11:59 PM - Assignment # 2</p>\r\n                    <h5 style={{ color: '#a6a7a8' }}>Due next week</h5>\r\n                    <p>11:59 PM - Assignment # 3</p>\r\n                    <br />\r\n                    <p className='float-right'>View All</p><br /><br />\r\n                </div>\r\n\r\n\r\n                <div className='col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-8 ' >\r\n                    <Post />\r\n                </div>\r\n\r\n\r\n                <div className='SideBar hidden-xs hidden-sm hidden-md col-lg-2' style={{ border: '1px solid #007BFF', borderRadius: '25px', backgroundColor: '#FFFFFF' }}>\r\n                    <h4>News & Updates</h4><br />\r\n                    <p>There are 3 programs in PIAIC Batch-1 that are Artificial Intelligence, Cloud Native Computing and BlockChain.</p><br />\r\n                    <p>The mission of PIAIC is to reshape Pakistan by revolutionizing education, research, and business by adopting latest, cutting-edge technologies. Experts are calling this the 4th industrial revolution. We want Pakistan to become a global hub for AI, data science, cloud native computing, edge computing, blockchain, augmented reality, and internet of things.</p><br />\r\n                    <p className='float-right'>View All</p><br /><br />\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// const UserList = ({ users }) =>\r\n//     <div>\r\n//         <h2>List of Usernames of Users</h2>\r\n//         <p>(Saved on Sign Up in Firebase Database)</p>\r\n//         {Object.keys(users).map(key =>\r\n//             <div key={key}>{users[key].username}</div>\r\n//         )}\r\n//     </div>\r\n\r\nconst mapStateToProps = (/*state*/) => {\r\n    return {\r\n        // user: state.authReducers.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (/*dispatch*/) => {\r\n    return {\r\n        // modifyUser: (user) => dispatch(updateUser(user))\r\n    }\r\n}\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuthorization(authCondition)(HomePage));\r\n","import React, { Component } from 'react';\r\nimport firebase from '../../firebase/firebase';\r\nimport {message} from 'antd';\r\n\r\nconst byPropKey = (propertyName, value) => () => ({\r\n    [propertyName]: value,\r\n});\r\n\r\nclass PasswordChangeForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            passwordOne: '',\r\n            passwordTwo: '',\r\n            error: null\r\n        };\r\n    }\r\n\r\n    onSubmit = (event) => {\r\n        event.preventDefault();\r\n        const { passwordOne, passwordTwo } = this.state;\r\n        const { ModalClose } = this.props;\r\n\r\n        // firebase.auth().doPasswordUpdate(passwordOne)\r\n        firebase.auth().currentUser.updatePassword(passwordOne)\r\n            .then(() => {\r\n                this.setState({ passwordOne, passwordTwo });\r\n                console.log('password changed successfully!');\r\n                message.success('password changed successfully');\r\n            })\r\n            .then(() => ModalClose())\r\n            .catch(error => {\r\n                this.setState(byPropKey('error', error));\r\n                console.log(error);\r\n                message.error(`${error}`);\r\n                console.log('Error changing password');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { passwordOne, passwordTwo, error } = this.state;\r\n        const isInvalid = passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input className='form-control' value={passwordOne} onChange={event => this.setState(byPropKey('passwordOne', event.target.value))} type=\"password\" placeholder=\"New Password\" /><br />\r\n                <input className='form-control' value={passwordTwo} onChange={event => this.setState(byPropKey('passwordTwo', event.target.value))} type=\"password\" placeholder=\"Confirm New Password\" /><br />\r\n                <button className='btn btn-primary' disabled={isInvalid} type=\"submit\">Reset My Password</button>\r\n                {/* {error && <p>{error.message}</p>} */}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PasswordChangeForm;","import React, { Component } from 'react';\r\nimport AuthUserContext from '../AuthUserContext';\r\nimport firebase from '../../firebase/firebase';\r\n// import { PasswordForgetForm } from '../PasswordForget/PasswordForget';\r\nimport PasswordChangeForm from '../PasswordChange/PasswordChange';\r\nimport withAuthorization from '../withAuthorization';\r\nimport { Modal, Button, Input, message, /*Select, Col, Row, Drawer, Form, DatePicker, Icon */ } from 'antd';\r\nimport * as routes from '../../constants/routes';\r\n\r\nimport { updateUserInfo } from '../../redux/UserInfo/UserInfoActions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst database = firebase.database();\r\n\r\n// const { Option } = Select;\r\n\r\nclass AccountPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibleChangePass: false,\r\n            visibleForUpdate: false,\r\n            editName: '',\r\n            editPhoneno: '',\r\n            editSubject: '',\r\n            editInterest: '',\r\n            Name: '',\r\n            Email: '',\r\n            Phoneno: '',\r\n            Subject: '',\r\n            Interest: ''\r\n        }\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     this.getUserData();\r\n    // }\r\n\r\n    // getUserData = () => {\r\n    //     const { UserInfo } = this.props;\r\n    //     this.setState({\r\n    //         Name: UserInfo.username,\r\n    //         Email: UserInfo.email,\r\n    //         Phoneno: UserInfo.phoneNumber,\r\n    //         Subject: UserInfo.subject,\r\n    //         Interest: UserInfo.interest\r\n    //     })\r\n    // }\r\n\r\n    // static getDerivedStateFromProps(nextProps, prevState) {\r\n    //     const { UserInfo } = nextProps;\r\n    //     console.log('Userinfo updated in static', UserInfo);\r\n    //     return {subject : nextProps.subject};\r\n    // //     }\r\n    // //     else return null;\r\n    // }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //     if(nextProps !== nextState){\r\n    //         return true;\r\n    //     }\r\n    //     return false;\r\n    // }\r\n\r\n    // componentDidUpdate(prevProps, prevState, prevContext) {\r\n    //     const { UserInfo } = prevProps;\r\n    //     console.log('Userinfo updated in DIDUPDATE', UserInfo);\r\n    // }\r\n\r\n    // componentDidUpdate(prevProps, prevState) {\r\n    //     if (prevState.path !== this.state.path) {\r\n    //       let firebaseRef=firebase.database().ref(this.state.path);\r\n    //       this.setState({firebaseRef});\r\n    //       this.getData(firebaseRef);\r\n    //     }\r\n    //   }\r\n\r\n    //   static getDerivedStateFromProps(nextProps, prevState){\r\n    //     if(nextProps.path!==prevState.path){\r\n    //       let firebaseRef=prevState.firebaseRef;\r\n\r\n    //       firebaseRef.off(\"value\"); //Turn off the connection to previous path.\r\n\r\n    // //       We can't do this here as we can't access `this` inside this method.\r\n    // //       firebaseRef=firebase.database().ref(nextProps.path);\r\n    // //       this.setState({firebaseRef, path :nextProps.path });\r\n    // //       this.getData(firebaseRef);\r\n\r\n    //       return {path : nextProps.path};\r\n    //     }\r\n    //     else return null;\r\n    //   }\r\n\r\n    // static getDerivedStateFromProps(nextProps, prevState) {\r\n    //     if (nextProps.someValue !== prevState.someValue) {\r\n    //         return { someState: nextProps.someValue };\r\n    //     }\r\n    //     else return null;\r\n    // }\r\n\r\n    // componentDidUpdate(prevProps, prevState) {\r\n    //     if (prevProps.someValue !== this.props.someValue) {\r\n    //         //Perform some operation here\r\n    //         this.setState({ someState: someValue });\r\n    //         this.classMethod();\r\n    //     }\r\n    // }\r\n\r\n\r\n    showModalChangePass = () => {\r\n        this.setState({ visibleChangePass: true });\r\n    }\r\n    handleOkChangePass = () => {\r\n        // console.log(e);\r\n        // console.log('handle cancel of Change Password');\r\n        this.setState({ visibleChangePass: false });\r\n    }\r\n    handleCancelChangePass = () => {\r\n        // console.log(e);\r\n        this.setState({ visibleChangePass: false });\r\n    }\r\n\r\n    // ..........................>>>>>>>>\r\n\r\n    showModalForUpdate = () => {\r\n        // const { Name, Phoneno, Subject, Interest } = this.state;\r\n        const { UserInfo } = this.props;\r\n        this.setState({\r\n            visibleForUpdate: true,\r\n            editName: UserInfo.username,\r\n            editPhoneno: UserInfo.phoneNumber,\r\n            editSubject: UserInfo.subject,\r\n            editInterest: UserInfo.interest\r\n        });\r\n    }\r\n    handleOkForUpdate = () => {\r\n        this.setState({ visibleForUpdate: false },\r\n            () => this.UpdateUserInformation());\r\n    }\r\n    UpdateUserInformation = () => {\r\n        const { /*editName,*/ editPhoneno, editSubject, editInterest } = this.state;\r\n        const { UserInfo } = this.props;\r\n        const userid = UserInfo.userid;\r\n        const Username = UserInfo.username;\r\n\r\n        const prevSubject = UserInfo.subject;\r\n        const prevInterest = UserInfo.interest;\r\n\r\n        database.ref(`Subject/${prevSubject}/${userid}`).remove();\r\n        database.ref(`Subject/${editSubject}`).child(userid).set({\r\n            username: Username\r\n        })\r\n        database.ref(`Interest Area/${prevInterest}/${userid}`).remove();\r\n        database.ref(`Interest Area/${editInterest}`).child(userid).set({\r\n            username: Username\r\n        })\r\n\r\n        var updates = {};\r\n        updates[`/Users/${userid}/phoneNumber`] = editPhoneno;\r\n        updates[`/Users/${userid}/subject`] = editSubject;\r\n        updates[`/Users/${userid}/interest`] = editInterest;\r\n\r\n        return database.ref().update(updates,\r\n            () => {\r\n                this.GetUserInfo(userid);\r\n                this.handleCancelForUpdate();\r\n            })\r\n    }\r\n    GetUserInfo = (UserID) => {  // Get user info from DB and save in REDUX state \r\n        database.ref(`Users/${UserID}`).on('value', (user) => {\r\n            const userinfo = user.val();\r\n            // console.log('userinfo', userinfo);44\r\n            this.props.updateUserInfo(userinfo);\r\n        })\r\n        message.success('Profile Updated');\r\n    }\r\n    handleCancelForUpdate = () => {\r\n        this.setState({\r\n            visibleForUpdate: false\r\n        });\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { /*editName,*/ editPhoneno, editSubject, editInterest } = this.state;\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        },\r\n            () => {\r\n                if (/* !editName || */ !editPhoneno || !editSubject || !editInterest) {\r\n                    this.setState({\r\n                        disableUpdateInfoButton: true\r\n                    })\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        disableUpdateInfoButton: false\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { visibleChangePass, visibleForUpdate, /*Name, Email, Phoneno, Subject, Interest,*/ /*editName,*/ editPhoneno, editSubject, editInterest } = this.state;\r\n        // const { UserInfo } = this.props;\r\n\r\n        return (\r\n            <AuthUserContext.Consumer>\r\n                {authUser =>\r\n                    <div className='container'>\r\n                        {/* <h3 style={{ textAlign: 'center' }}>Hello<h2>{authUser.email}</h2></h3> */}\r\n                        <div className='container'>\r\n                            <br />\r\n\r\n                            {/* <div>Personal Information</div> */}\r\n                            <div className='table-responsive'>\r\n                                <table className='table'>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td><h4><i className=\"fas fa-user\"></i>&nbsp;Name</h4></td>\r\n                                            <td><h4>{this.props.UserInfo.username}</h4></td>\r\n                                        </tr>\r\n\r\n                                        <tr>\r\n                                            <td><h4><i className=\"fas fa-at\"></i>&nbsp;Email</h4></td>\r\n                                            <td><h4>{this.props.UserInfo.email}</h4></td>\r\n                                        </tr>\r\n\r\n                                        <tr>\r\n                                            <td><h4><i className=\"fas fa-phone\"></i>&nbsp;Phone Number</h4></td>\r\n                                            <td><h4>{this.props.UserInfo.phoneNumber}</h4></td>\r\n                                        </tr>\r\n\r\n                                        <tr>\r\n                                            <td><h4><i className=\"fas fa-code\"></i>&nbsp;Subject</h4></td>\r\n                                            <td><h4>{this.props.UserInfo.subject}</h4></td>\r\n                                        </tr>\r\n\r\n                                        <tr>\r\n                                            <td><h4><i className=\"fas fa-heart\"></i>&nbsp;Interest Area:</h4></td>\r\n                                            <td><h4>{this.props.UserInfo.interest}</h4></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                            <Button size='large' type=\"primary\" shape=\"round\" onClick={this.showModalForUpdate}>Update Information</Button>&nbsp;   \r\n                            <Modal title=\"Update Information\" visible={visibleForUpdate} onOk={this.handleOkForUpdate} onCancel={this.handleCancelForUpdate}\r\n                                footer={[<Button key='cancel' onClick={this.handleCancelForUpdate}>Cancel</Button>, <Button key='updateInfo' type=\"primary\" onClick={this.handleOkForUpdate}>Update</Button>,]}>\r\n\r\n                                {/* NAME CHANGE KIYA TOU POSTS ME SE JAA JAA KR KOUN KREY GA?? */}\r\n                                {/* <label>Name</label> */}\r\n                                {/* <input name='editName' value={editName} onChange={this.handleChange} className='form-control' type='text' /><br /> */}\r\n                                <label>Phone Number</label>\r\n                                <Input name='editPhoneno' value={editPhoneno} onChange={this.handleChange} className='form-control' type='text' /><br />\r\n                                <label>Subject</label>\r\n                                <Input name='editSubject' value={editSubject} onChange={this.handleChange} className='form-control' type='text' /><br />\r\n                                <label>Interest Area</label>\r\n                                <Input name='editInterest' value={editInterest} onChange={this.handleChange} className='form-control' type='text' /><br />\r\n\r\n                            </Modal>\r\n\r\n                            <Button size='large' type=\"primary\" shape=\"round\" onClick={this.showModalChangePass}>Change Password</Button>\r\n                            <Modal title=\"Change Password\" visible={visibleChangePass} onOk={this.handleOkChangePass} onCancel={this.handleCancelChangePass} footer={''}>\r\n                                <PasswordChangeForm ModalClose={this.handleOkChangePass} />\r\n                            </Modal>\r\n\r\n                        </div >\r\n                    </div>\r\n                }\r\n            </AuthUserContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateUserInfo: (userinfo) => dispatch(updateUserInfo(userinfo))\r\n    }\r\n}\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuthorization(authCondition)(AccountPage));\r\n","import React, { Component } from 'react';\r\nimport '../Quiz/Quiz.css';\r\nimport firebase from '../../firebase/firebase';\r\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\r\nimport classnames from 'classnames';\r\n// import { CardBody, CardHeader, CardFooter, CardTitle, Card, CardText } from 'reactstrap';\r\n// import classnames from 'classnames';\r\n// import { Divider } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n// import ReactDOM from 'react-dom';\r\n// import Countdown from 'react-countdown-now';\r\n// import { ProgressBar } from 'reactstrap';\r\nimport { Input, Button, DropdownToggle, UncontrolledDropdown, DropdownMenu, DropdownItem, Card, CardText, CardBody } from 'reactstrap';\r\nimport { message, Modal, Progress, Spin, Divider } from 'antd';\r\n// import swal from 'sweetalert';\r\n// import Timer from 'react-compound-timer';\r\nimport * as routes from '../../constants/routes';\r\nimport { connect } from 'react-redux';\r\n\r\nconst database = firebase.database();\r\nconst confirm = Modal.confirm;\r\nvar AssignRef;\r\n\r\n\r\nclass Assignments extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tactiveTab: '1',\r\n\t\t\tTeacher_ID: '',\r\n\t\t\tassignId: '',\r\n\t\t\tAssignName: '',\r\n\t\t\tAssignListKeys: [],\r\n\t\t\tAssignListValues: [],\r\n\t\t\ttimeInSeconds: 0,\r\n\t\t\tAssignment_Questions: [],\r\n\t\t\tAssign_solutions: [],\r\n\t\t\tscore: 0,\r\n\t\t\tShowScore: false,\r\n\t\t\tShowResult: false,\r\n\t\t\tresultKeysArr: [],\r\n\t\t\tresultValuesArr: []\r\n\r\n\t\t};\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.CheckTeacher();\r\n\t\tthis.RetrieveAssignList();\r\n\t\t// await this.RetrieveAssignQuestions();\r\n\t\t// this.init_answers_Array();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tAssignRef.off();\r\n\t}\r\n\r\n\r\n\ttoggle(tab) {\r\n\t\tif (this.state.activeTab !== tab) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tactiveTab: tab\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tshowDeleteConfirm = (a_ID) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Are you sure to delete this assignment?',\r\n\t\t\t// content: 'Some descriptions',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk: () => {\r\n\t\t\t\tthis.DeleteAssign(a_ID);\r\n\t\t\t\tconsole.log('Assignment Deleted!');\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tCheckTeacher = () => {\r\n\t\tconst { ClassID } = this.props;\r\n\r\n\t\tconst classRef = database.ref(`Classes/${ClassID}`);\r\n\t\tclassRef.once('value', (clsinfo) => {\r\n\t\t\tconst cls = clsinfo.val();\r\n\t\t\tconst Teacher_ID = cls.teacherID;\r\n\t\t\tthis.setState({ Teacher_ID: Teacher_ID });\r\n\t\t})\r\n\t}\r\n\r\n\tRetrieveAssignList = () => {\r\n\t\tconst { ClassID } = this.props;\r\n\r\n\t\tAssignRef = database.ref(`Assignment_Questions/${ClassID}`);\r\n\t\tAssignRef.on('value', (assignObj) => {\r\n\t\t\tconst ASSIGN = assignObj.val();\r\n\t\t\tif (!ASSIGN) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst qkeys = Object.keys(ASSIGN);\r\n\t\t\tconst qvalues = Object.values(ASSIGN);\r\n\t\t\t// const AssignNames = [];\r\n\r\n\t\t\t// qkeys.forEach((key, index) => {\r\n\t\t\t//     AssignNames[index] = qvalues[index].name;\r\n\t\t\t// })\r\n\r\n\t\t\t// console.log(qkeys, qvalues);\r\n\r\n\t\t\tthis.setState({ AssignListValues: qvalues, AssignListKeys: qkeys });\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tRetrieveAssignQuestions = (assignId) => {\r\n\t\tconst { ClassID } = this.props;\r\n\t\t// this.setState({ assignId: assignId, AssignName: Aname });\r\n\r\n\t\tconst AssignQuesRef = database.ref(`Assignment_Questions/${ClassID}/${assignId}`);\r\n\t\tAssignQuesRef.once('value', (quesObj) => {\r\n\t\t\tconst QUES = quesObj.val();\r\n\t\t\tif (!QUES) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst questions = QUES.Questions; //Yahan pe error dega jab bhi, mtlab classID selected nahi hai, FLOW SAHI KRNA PREGA NAV. KA\r\n\t\t\t// const Teacher_ID = QUES.Teacherid;\r\n\t\t\tconst timeInSeconds = QUES.timeInSeconds;\r\n\t\t\tconsole.log(questions);\r\n\t\t\tthis.setState({ Assignment_Questions: questions, /*Teacher_ID: Teacher_ID,*/ timeInSeconds: timeInSeconds }, () => this.init_answers_Array);\r\n\t\t})\r\n\t}\r\n\r\n\tinit_answers_Array = () => {\r\n\t\tconst { Assignment_Questions, Assign_solutions } = this.state;\r\n\t\tAssignment_Questions.forEach((ques, index) =>\r\n\t\t\tAssign_solutions[index] = ''\r\n\t\t)\r\n\t\tthis.setState({ Assign_solutions });\r\n\t}\r\n\r\n\r\n\r\n\tsaveAnswer = (e, index) => {\r\n\t\tconst { Assign_solutions } = this.state;\r\n\t\tAssign_solutions[index] = e.target.value;\r\n\t\tthis.setState({ Assign_solutions });\r\n\t}\r\n\r\n\tOn_Assign_Submit = () => {\r\n\t\tconst { Assign_solutions, assignId } = this.state;\r\n\t\tconst { ClassID, UserInfo } = this.props;\r\n\t\tconst userid = UserInfo.userid;\r\n\t\tconst username = UserInfo.username;\r\n\t\tconst nodename = 'Assignment_Results';\r\n\t\tconst ansRef = 'Assignment_Answers';\r\n\t\tmessage.success('Assignment Successfully Submitted');\r\n\t\t// console.log(Assign_solutions);\r\n\t\tfetch(`http://localhost:8000/result?solutions=${Assign_solutions}&ClassID=${ClassID}&Q_or_A_ID=${assignId}&NodeName=${nodename}&studentId=${userid}&answerRef=${ansRef}&StudentName=${username}`)\r\n\t\t\t.then((response) => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((myJson) => {\r\n\t\t\t\t// console.log(myJson);\r\n\t\t\t\t// const my_json = JSON.stringify(myJson);\r\n\t\t\t\t// console.log(my_json);\r\n\t\t\t\tconst Xcore = myJson.score;\r\n\t\t\t\tconst theScore = Number(Xcore);\r\n\t\t\t\tthis.setState({ score: theScore }, () => {\r\n\t\t\t\t\tconsole.log(this.state.score);\r\n\t\t\t\t\tthis.showModalForScore();\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t}\r\n\r\n\tshowModalForScore = () => {\r\n\t\tthis.setState({\r\n\t\t\tShowScore: true,\r\n\t\t});\r\n\t};\r\n\thandleOkForScore = () => {\r\n\t\tthis.setState({\r\n\t\t\tShowScore: false,\r\n\t\t\tscore: ''\r\n\t\t}, () => {\r\n\t\t\tthis.LeaveAssign();\r\n\t\t});\r\n\t};\r\n\thandleCancelForScore = () => {\r\n\t\tthis.setState({\r\n\t\t\tShowScore: false,\r\n\t\t\tscore: ''\r\n\t\t}, () => {\r\n\t\t\tthis.LeaveAssign();\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tGetReport = (assignID) => {\r\n\t\tconst { ClassID } = this.props;\r\n\t\t// console.log('assignID', assignID)\r\n\r\n\t\tconst ResultRef = database.ref(`Assignment_Results/${ClassID}/${assignID}`);\r\n\t\tResultRef.once('value', (Obj) => {\r\n\t\t\tconst result = Obj.val();\r\n\t\t\tconsole.log(result)\r\n\t\t\tif (result !== null){\r\n\t\t\tconst resultKeysArr = Object.keys(result);\r\n\t\t\tconst resultValuesArr = Object.values(result);\r\n\t\t\tconsole.log(resultKeysArr, resultValuesArr);\r\n\t\t\tthis.setState({ resultKeysArr, resultValuesArr });\r\n\t\t}\r\n\t\t})\r\n\t}\r\n\tshowModalForResult = (assignID) => {\r\n\t\tthis.GetReport(assignID);\r\n\t\tthis.setState({\r\n\t\t\tShowResult: true,\r\n\t\t});\r\n\t};\r\n\thandleOkForResult = () => {\r\n\t\tthis.setState({\r\n\t\t\tShowResult: false\r\n\t\t});\r\n\t};\r\n\thandleCancelForResult = () => {\r\n\t\tthis.setState({\r\n\t\t\tShowResult: false\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tDeleteAssign = (assignkiID) => {\r\n\t\tconst { ClassID } = this.props;\r\n\t\tvar updatesAssign = {};\r\n\t\tupdatesAssign[`/Assignment_Questions/${ClassID}/${assignkiID}/isDeleted`] = true;\r\n\t\treturn database.ref().update(updatesAssign);\r\n\t}\r\n\r\n\tChangeComponentToAssignCreate = () => {\r\n\t\tthis.props.history.push(routes.ASSIGN_CREATE);\r\n\t}\r\n\r\n\tLeaveAssignConfirm = () => {\r\n\t\tconfirm({\r\n\t\t\ttitle: \"Are you sure to leave this assignment page? Your progress will be lost.\",\r\n\t\t\t// content: 'Some descriptions',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk: () => {\r\n\t\t\t\tthis.LeaveAssign();\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\tLeaveAssign = () => {\r\n\t\tthis.setState({ assignId: '' })\r\n\t}\r\n\r\n\tsetAssignIDandName = (key, Aname) => {\r\n\t\tthis.setState({ assignId: key, AssignName: Aname }, () => this.RetrieveAssignQuestions(key))\r\n\t}\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t}\r\n\r\n\r\n\trenderQuestions = () => {\r\n\t\tconst { Assignment_Questions, Assign_solutions } = this.state;\r\n\r\n\t\treturn Assignment_Questions.map((ques, index) => {\r\n\t\t\t// console.log(ques)\r\n\t\t\treturn (\r\n\t\t\t\t<div className='post' key={index} style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label>Question#{index + 1}:</label>\r\n\t\t\t\t\t\t<p><b>{ques}</b></p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<textarea rows='2' value={Assign_solutions[index] || ''} name='Assign_solutions' onChange={(e) => this.saveAnswer(e, index)} style={{ resize: 'none' }} type='text' className='form-control' />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { assignId, AssignName, Teacher_ID, AssignListKeys, AssignListValues, score, resultKeysArr, resultValuesArr } = this.state;\r\n\t\tconst UserInfo = this.props.UserInfo || { UserInfo: {} };\r\n\t\tconst userid = UserInfo.userid;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tTeacher_ID === userid ?\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button size='md' color='warning' onClick={this.ChangeComponentToAssignCreate} className='form-control col-lg-3 col-md-4 col-sm-12 col-xs-12 float-right'>Create new assignment &nbsp;&nbsp;&nbsp; <i className=\"fas fa-plus\"></i></Button>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{/* <h3 style={{ fontWeight: 'bold', color: '#395498' }}>Created Assignments</h3><br /> */}\r\n\t\t\t\t\t\t\t{/* <div className='overflow' style={{ overflowY: 'auto' }}> */}\r\n\r\n\t\t\t\t\t\t\t<Nav pills>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink className={classnames({ active: this.state.activeTab === '1' })} onClick={() => { this.toggle('1'); }}>\r\n\t\t\t\t\t\t\t\t\t\tAssignments Assigned\r\n                        \t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink className={classnames({ active: this.state.activeTab === '2' })} onClick={() => { this.toggle('2'); }}>\r\n\t\t\t\t\t\t\t\t\t\tPrevious Assignments\r\n                        \t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Nav>\r\n\r\n\t\t\t\t\t\t\t<TabContent activeTab={this.state.activeTab}>\r\n\t\t\t\t\t\t\t\t<TabPane tabId=\"1\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tAssignListKeys.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst A = AssignListValues[index];\r\n\t\t\t\t\t\t\t\t\t\t\tconst date = new Date();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t!A.isDeleted && A.submissionTimestamp > date.getTime() &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={key} id='classesHover' style={{ margin: '16px 0px 16px 0px', padding: '20px', backgroundColor: 'white' }} className=\"container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UncontrolledDropdown className='float-right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownToggle style={{ zIndex: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='dotsDropDown' /><span className='dotsDropDown' /><span className='dotsDropDown' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={() => this.showDeleteConfirm(key)}><i className=\"fas fa-trash\"></i>&nbsp;Delete Assignment</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-left' style={{ padding: '0px 0px 0px 15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{A.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-right' style={{ padding: '15px 50px 0px 0px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Submission Date: {A.submissionDay}, {A.submissionDate}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>{A.submissionTime}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h4 className='text-danger'>22 Days late</h4> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t\t<TabPane tabId=\"2\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tAssignListKeys.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst A = AssignListValues[index];\r\n\t\t\t\t\t\t\t\t\t\t\tconst date = new Date();\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t!A.isDeleted && A.submissionTimestamp <= date.getTime() &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={key} id='classesHover' style={{ margin: '16px 0px 16px 0px', padding: '20px', backgroundColor: 'white' }} className=\"container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UncontrolledDropdown className='float-right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownToggle style={{ zIndex: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='dotsDropDown' /><span className='dotsDropDown' /><span className='dotsDropDown' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownToggle>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onClick={() => this.showModalForResult(key)}><i className=\"fas fa-poll\"></i>&nbsp;Show Results</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-left' style={{ padding: '0px 0px 0px 15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{A.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>Today is Sep 25, 2018</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h2>Late</h2> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-right' style={{ padding: '15px 50px 0px 0px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-secondary'>Date: {A.submissionDay}, {A.submissionDate}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-secondary'>{A.submissionTime}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h4 className='text-danger'>22 Days late</h4> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Modal title={A.name} visible={this.state.ShowResult} onOk={this.handleOkForResult} onCancel={this.handleCancelForResult} footer={[]}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h1 style={{ textAlign: 'center' }}>{score}</h1> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='table-responsive'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table className='table'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Student Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Score</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresultKeysArr.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst res = resultValuesArr[index];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={key} className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{res.username}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{res.score}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t</TabContent>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t:\r\n\r\n\t\t\t\t\t\t// ELSE\r\n\t\t\t\t\t\t// IF STUDENTS\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// if Assign id is NOT present in state, then render \r\n\t\t\t\t\t\t\t\t// list of assignments of that class\r\n\t\t\t\t\t\t\t\t!assignId ?\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Nav pills>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<NavLink className={classnames({ active: this.state.activeTab === '1' })} onClick={() => { this.toggle('1'); }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPending Assignments\r\n                        \t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<NavLink className={classnames({ active: this.state.activeTab === '2' })} onClick={() => { this.toggle('2'); }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tFinished Assignments\r\n                    \t\t\t    \t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<NavLink className={classnames({ active: this.state.activeTab === '3' })} onClick={() => { this.toggle('3'); }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tUnfinished Assignments\r\n                        \t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavItem> */}\r\n\t\t\t\t\t\t\t\t\t\t</Nav>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<TabContent activeTab={this.state.activeTab}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TabPane tabId=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAssignListKeys.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst A = AssignListValues[index];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst date = new Date();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!A.isDeleted && A.submissionTimestamp > date.getTime() &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={key} onClick={() => this.setAssignIDandName(key, A.name)} id='classesHover' style={{ margin: '16px 0px 16px 0px', padding: '20px', backgroundColor: 'white' }} className=\"container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-left' style={{ padding: '0px 0px 0px 15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{A.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>Today is Sep 25, 2018</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h2>Late</h2> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-right' style={{ padding: '0px 50px 0px 0px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-secondary'>Due {A.submissionDay}, {A.submissionDate}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-dark'>{A.submissionTime}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{A.submissionTime}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h4 className='text-danger'>22 Days late</h4> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// <Card key={key} style={{ color: 'white', backgroundColor: '#262f3d', marginBottom: '5px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t<CardBody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<CardText className='TextOverFlowControl'>{A.name}</CardText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<UncontrolledDropdown className='float-right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t<DropdownToggle style={{ backgroundColor: '#262f3d', zIndex: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t\t<span className='dotsDropDown' /><span className='dotsDropDown' /><span className='dotsDropDown' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t</DropdownToggle>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t\t{/* <DropdownItem onClick={() => this.showModalForAssignCode(index)}><i className=\"far fa-eye\"></i>&nbsp;Show Assign Code</DropdownItem> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t\t<DropdownItem onClick={() => this.showDeleteConfirm(key)}><i className=\"fas fa-trash\"></i>&nbsp;Delete Assignment</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t</CardBody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t{/* <Modal title=\"Assign Code\" visible={this.state.visible} onOk={this.handleOkForAssignCode} onCancel={this.handleCancelForAssignCode} footer={''}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t\t<h1 style={{ textAlign: 'center' }}>{quizCODE}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \t</Modal> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// </Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t\t\t\t\t<TabPane tabId=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAssignListKeys.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst A = AssignListValues[index];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst date = new Date();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!A.isDeleted && A.submissionTimestamp <= date.getTime() &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={key} style={{ margin: '16px 0px 16px 0px', padding: '20px', backgroundColor: 'white' }} className=\"container\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-left' style={{ padding: '0px 0px 0px 15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{A.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-dark'>{A.submissionDay}, {A.submissionDate}</h4>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>Today is Sep 25, 2018</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <h2>Late</h2> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <div className='pull-right' style={{ padding: '15px 50px 0px 0px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Due Sep 25, 2018</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>11:45 pm</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-danger'>22 Days late</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <TabPane tabId=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAssignListKeys.map((key, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst A = AssignListValues[index];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst date = new Date();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!A.isDeleted && A.submissionTimestamp <= date.getTime() &&\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={key} style={{ margin: '16px 0px 16px 0px', padding: '20px', backgroundColor: 'white' }} className=\"container\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='pull-left' style={{ padding: '0px 0px 0px 15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{A.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className='text-danger'>Missed {A.submissionDay}, {A.submissionDate}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</TabPane> */}\r\n\t\t\t\t\t\t\t\t\t\t</TabContent>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t:\r\n\r\n\t\t\t\t\t\t\t\t\t// if Assign id is present in state, then render this\r\n\t\t\t\t\t\t\t\t\tassignId && //show question paper to solve assignment\r\n\t\t\t\t\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t\t\t\t\t<Button size='lg' color='primary' onClick={this.LeaveAssignConfirm} className=' col-lg-2 col-md-3 col-sm-12 col-xs-12'>back</Button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=''>{AssignName}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<div className='' style={{ position: 'fixed', zIndex: '1', top: '90px', right: '110px' }}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Timer direction='backward' initialTime={timeInSeconds}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>Your assignment will end in the given time below</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h4><Timer.Hours /> Hours &nbsp;<Timer.Minutes /> Minutes &nbsp;<Timer.Seconds /> Seconds</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t</Timer> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{/* <Spin size='large' tip=\"Loading... type text to show here\"> */}\r\n\t\t\t\t\t\t\t\t\t\t{this.renderQuestions()}\r\n\t\t\t\t\t\t\t\t\t\t{/* </Spin> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Button color='warning' className='btn-lg pull-right' onClick={this.On_Assign_Submit}>Submit</Button>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Button color='warning' className='btn-lg pull-right' onClick={this.On_Assign_Submit}>Submit</Button> */}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Modal title=\"Your Result\" visible={this.state.ShowScore} onOk={this.handleOkForScore} onCancel={this.handleCancelForScore}\r\n\t\t\t\t\t\t\t\t\t\t\tfooter={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Progress key={score} percent={score} showInfo={false} />\r\n\t\t\t\t\t\t\t\t\t\t\t]}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>{score}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <div className='table-responsive'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<table className='table'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>ClassName</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Assign Heading / Assign Number/Assign Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>fyp2</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>Assign#1</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t</Modal>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.authReducers.user,\r\n\t\tClassID: state.ClassIDReducers.ClassId,\r\n\t\tUserInfo: state.UserInfoReducers.info,\r\n\t\tRecieverId: state.RecieverIDReducers.RecieverId,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t// updateRecieverId: (RecieverId) => dispatch(updateRecieverId(RecieverId))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Assignments);","import React from 'react';\r\nimport './Quiz.css';\r\n// import ReactDOM from 'react-dom';\r\n// import Countdown from 'react-countdown-now';\r\n// import { ProgressBar } from 'reactstrap';\r\nimport * as routes from '../../constants/routes';\r\nimport firebase from '../../firebase/firebase';\r\nimport { Input, Button, DropdownToggle, UncontrolledDropdown, DropdownMenu, DropdownItem, Card, CardText, CardBody } from 'reactstrap';\r\nimport { message, Modal, Progress, Spin, Divider } from 'antd';\r\n// import swal from 'sweetalert';\r\nimport { connect } from 'react-redux';\r\nimport Timer from 'react-compound-timer';\r\n\r\nconst database = firebase.database();\r\nconst confirm = Modal.confirm;\r\nvar QuizRef;\r\n\r\n\r\nclass Quiz extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Teacher_ID: '',\r\n            quizId: '',\r\n            Quizname: '',\r\n            QuizListkeys: [],\r\n            QuizListvalues: [],\r\n            timeInSeconds: 0,\r\n            Quiz_Questions: [],\r\n            Quiz_solutions: [],\r\n            enteredQuizKey: '',\r\n            isQuizKeyValid: false,\r\n            quizCODE: '',\r\n            visible: false,\r\n            score: '',\r\n            ShowScore: false,\r\n            ShowResult: false,\r\n            resultKeysArr: [],\r\n            resultValuesArr: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.CheckTeacher();\r\n        this.RetrieveQuizList();\r\n        // await this.RetrieveQuizQuestions();\r\n        // this.init_answers_Array();\r\n        // this.CheckStudentAttendanceForQuiz('-LgEsOLYqfD8Ry2HJcgk')        \r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        QuizRef.off();\r\n    }\r\n\r\n\r\n    showModalForQuizCode = (index) => {\r\n        this.setState({\r\n            visible: true,\r\n            quizCODE: this.state.QuizListvalues[index].quizcode\r\n        });\r\n    };\r\n    handleOkForQuizCode = () => {\r\n        this.setState({\r\n            visible: false,\r\n            quizCODE: ''\r\n        });\r\n    };\r\n    handleCancelForQuizCode = () => {\r\n        this.setState({\r\n            visible: false,\r\n            quizCODE: ''\r\n        });\r\n    };\r\n\r\n\r\n    showDeleteConfirm = (q_ID) => {\r\n        confirm({\r\n            title: 'Are you sure to delete this quiz?',\r\n            // content: 'Some descriptions',\r\n            okText: 'Yes',\r\n            okType: 'danger',\r\n            cancelText: 'No',\r\n            onOk: () => {\r\n                this.DeleteQuiz(q_ID);\r\n                console.log('Quiz Deleted!');\r\n            },\r\n            onCancel() {\r\n\r\n            },\r\n        });\r\n    }\r\n\r\n    CheckTeacher = () => {\r\n        const { ClassID } = this.props;\r\n\r\n        const classRef = database.ref(`Classes/${ClassID}`);\r\n        classRef.once('value', (clsinfo) => {\r\n            const cls = clsinfo.val();\r\n            const Teacher_ID = cls.teacherID;\r\n            this.setState({ Teacher_ID: Teacher_ID });\r\n        })\r\n    }\r\n\r\n    RetrieveQuizList = () => {\r\n        const { UserInfo, ClassID } = this.props;\r\n        const userid = UserInfo.userid;\r\n\r\n        QuizRef = database.ref(`Quiz_Questions/${ClassID}`);\r\n        QuizRef.on('value', (quizObj) => {\r\n            const QUIZ = quizObj.val();\r\n            if (!QUIZ) {\r\n                return;\r\n            }\r\n            var qkeys = Object.keys(QUIZ);\r\n            const qvalues = Object.values(QUIZ);\r\n\r\n            var StudentQuizKeys;\r\n            var Quizzes = [];\r\n            const QuizAttemptedRef = database.ref(`Quiz_Attempted/${ClassID}/${userid}`);\r\n            QuizAttemptedRef.once('value', (Obj) => {\r\n                const Info = Obj.val();\r\n                // console.log(Info)\r\n                StudentQuizKeys = Object.keys(Info);\r\n\r\n                for (var i = 0; i < qkeys.length; i++) {\r\n                    // console.log('StudentQuizKeys', StudentQuizKeys, 'qkeys', qkeys)\r\n                    if (!StudentQuizKeys && StudentQuizKeys.indexOf(qkeys[i]) !== -1) {\r\n                        qkeys.slice(i, 1)\r\n                    }\r\n                }\r\n            })\r\n                .then(() => {\r\n                    for (var i = 0; i < qkeys.length; i++) {\r\n                        if (qkeys[i] !== qvalues[i].quizId) {\r\n                            Quizzes.push(qvalues[i]);\r\n                        }\r\n                    }\r\n                    this.setState({ QuizListkeys: qkeys, QuizListvalues: Quizzes }, () => console.log(this.state.QuizListkeys, this.state.QuizListvalues));\r\n                })\r\n        })\r\n    }\r\n\r\n\r\n    CheckProctoringKey = () => {\r\n        const { quizId, enteredQuizKey } = this.state;\r\n        const { ClassID } = this.props;\r\n\r\n        const QuizRef = database.ref(`Quiz_Questions/${ClassID}/${quizId}`);\r\n        QuizRef.once('value', (quiz) => {\r\n            const Quiz = quiz.val();\r\n            const QuizCodeKey = Quiz.quizcode;\r\n            var isValid = false;\r\n            if (QuizCodeKey === enteredQuizKey) {\r\n                isValid = true;\r\n            }\r\n            else { message.warning('Invalid Code Entered') }\r\n            this.setState({ isQuizKeyValid: isValid }, () => this.RetrieveQuizQuestions(quizId));\r\n        })\r\n    }\r\n\r\n    // CheckProctoringKey = () => {\r\n    //     const { quizId, enteredQuizKey } = this.state;\r\n    //     const { ClassID } = this.props;\r\n\r\n    //     const QuizRef = database.ref(`Quiz_Questions/${ClassID}/${quizId}`);\r\n    //     QuizRef.once('value', (quiz) => {\r\n    //         const Quiz = quiz.val();\r\n    //         const QuizCodeKey = Quiz.quizcode;\r\n    //         this.setState({ isQuizKeyValid: QuizCodeKey === enteredQuizKey }, () => this.RetrieveQuizQuestions(quizId));\r\n    //     })\r\n    // }\r\n\r\n    RetrieveQuizQuestions = (quizId) => {\r\n        const { ClassID } = this.props;\r\n        // this.setState({ quizId: quizId, Quizname: Qname });\r\n\r\n        const QuizQuesRef = database.ref(`Quiz_Questions/${ClassID}/${quizId}`);\r\n        QuizQuesRef.once('value', (quesObj) => {\r\n            const QUES = quesObj.val();\r\n            if (!QUES) {\r\n                return;\r\n            }\r\n\r\n\r\n            const questions = QUES.Questions; //Yahan pe error dega jab bhi, mtlab classID selected nahi hai, FLOW SAHI KRNA PREGA NAV. KA\r\n            // const Teacher_ID = QUES.Teacherid;\r\n            const timeInSeconds = QUES.timeInSeconds;\r\n            // console.log('questions', questions, timeInSeconds);\r\n            this.setState({ Quiz_Questions: questions, /*Teacher_ID: Teacher_ID,*/ timeInSeconds: timeInSeconds }, () => this.init_answers_Array(quizId));\r\n        })\r\n    }\r\n    init_answers_Array = (quizId) => {\r\n        const { Quiz_Questions, Quiz_solutions } = this.state;\r\n        Quiz_Questions.forEach((ques, index) =>\r\n            Quiz_solutions[index] = ''\r\n        )\r\n        this.setState({ Quiz_solutions }, () => {\r\n            this.MarkStudentAttendanceForQuiz(quizId);\r\n        });\r\n    }\r\n    MarkStudentAttendanceForQuiz = (quizId) => {\r\n        const { UserInfo, ClassID } = this.props;\r\n        const userid = UserInfo.userid;\r\n\r\n        const QuizAttemptedRef = database.ref(`Quiz_Attempted/${ClassID}/${userid}/${quizId}`);\r\n        QuizAttemptedRef.set({\r\n            attemptedQuiz: true\r\n        })\r\n    }\r\n    CheckStudentAttendanceForQuiz = (quizId) => {\r\n        const { UserInfo, ClassID } = this.props;\r\n        const userid = UserInfo.userid;\r\n\r\n        const QuizAttemptedRef = database.ref(`Quiz_Attempted/${ClassID}/${userid}`);\r\n        QuizAttemptedRef.once('value', (Obj) => {\r\n            const Info = Obj.val();\r\n            const QKeys = Object.keys(Info);\r\n            this.setState({ StudentQuizKeys: QKeys })\r\n\r\n            // return Info;\r\n        })\r\n        // .then((Info) => {\r\n        //     const theInfo = Info.val()\r\n        //     if (theInfo && theInfo.attemptedQuiz) {\r\n        //         console.log('Attempted Quiz')\r\n        //         return true;\r\n        //     }\r\n        //     else {\r\n        //         console.log('Unattempted Quiz')\r\n        //         return false;\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    saveAnswer = (e, index) => {\r\n        const { Quiz_solutions } = this.state;\r\n        Quiz_solutions[index] = e.target.value;\r\n        this.setState({ Quiz_solutions });\r\n    }\r\n\r\n    On_Quiz_Submit = () => {\r\n        const { Quiz_solutions, quizId } = this.state;\r\n        const { ClassID, UserInfo } = this.props;\r\n        const userid = UserInfo.userid;\r\n        const username = UserInfo.username;\r\n        const nodename = 'Quiz_Results';\r\n        const ansRef = 'Quiz_Answers';\r\n        fetch(`http://localhost:8000/result?solutions=${Quiz_solutions}&ClassID=${ClassID}&Q_or_A_ID=${quizId}&NodeName=${nodename}&studentId=${userid}&answerRef=${ansRef}&StudentName=${username}`)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((myJson) => {\r\n                const Xcore = myJson.score;\r\n                const theScore = Number(Xcore);\r\n                this.setState({ score: theScore }, () => {\r\n                    console.log(this.state.score);\r\n                    this.showModalForScore();\r\n                    message.success('Quiz Successfully Submitted');\r\n                })\r\n            });\r\n    }\r\n\r\n    showModalForScore = () => {\r\n        this.setState({\r\n            ShowScore: true,\r\n        });\r\n    };\r\n    handleOkForScore = () => {\r\n        this.setState({\r\n            ShowScore: false,\r\n            score: ''\r\n        });\r\n    };\r\n    handleCancelForScore = () => {\r\n        this.setState({\r\n            ShowScore: false,\r\n            score: ''\r\n        });\r\n    };\r\n\r\n\r\n    GetReport = (QuizID) => {\r\n        const { ClassID } = this.props;\r\n        // console.log('assignID', assignID)\r\n\r\n        const ResultRef = database.ref(`Quiz_Results/${ClassID}/${QuizID}`);\r\n        ResultRef.once('value', (Obj) => {\r\n            const result = Obj.val();\r\n            console.log(result)\r\n            const resultKeysArr = result && Object.keys(result);\r\n            const resultValuesArr = result && Object.values(result);\r\n            console.log(resultKeysArr, resultValuesArr);\r\n            this.setState({ resultKeysArr, resultValuesArr });\r\n        })\r\n    }\r\n    showModalForResult = (QuizID) => {\r\n        this.GetReport(QuizID);\r\n        this.setState({\r\n            ShowResult: true,\r\n        });\r\n    };\r\n    handleOkForResult = () => {\r\n        this.setState({\r\n            ShowResult: false\r\n        });\r\n    };\r\n    handleCancelForResult = () => {\r\n        this.setState({\r\n            ShowResult: false\r\n        });\r\n    };\r\n\r\n\r\n    DeleteQuiz = (quizkiID) => {\r\n        const { ClassID } = this.props;\r\n        var updatesQuiz = {};\r\n        updatesQuiz[`/Quiz_Questions/${ClassID}/${quizkiID}/isDeleted`] = true;\r\n        return database.ref().update(updatesQuiz);\r\n    }\r\n\r\n    ChangeComponentToQuizCreate = () => {\r\n        this.props.history.push(routes.QUIZ_CREATE);\r\n    }\r\n\r\n    LeaveQuizConfirm = () => {\r\n        confirm({\r\n            title: \"Are you sure to leave this quiz? You won't be able to attempt this quiz again\",\r\n            // content: 'Some descriptions',\r\n            okText: 'Yes',\r\n            okType: 'danger',\r\n            cancelText: 'No',\r\n            onOk: () => {\r\n                this.LeaveQuiz();\r\n            },\r\n            onCancel() {\r\n\r\n            },\r\n        });\r\n    }\r\n    LeaveQuiz = () => {\r\n        this.setState({ isQuizKeyValid: false, quizId: '' })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    renderQuestions = () => {\r\n        const { Quiz_Questions, Quiz_solutions } = this.state;\r\n\r\n        return Quiz_Questions.map((ques, index) => {\r\n            // console.log(ques)\r\n            return (\r\n                <div className='post' key={index} style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n                    <div>\r\n                        <label>Question#{index + 1}:</label>\r\n                        <p><b>{ques}</b></p>\r\n                    </div>\r\n\r\n                    <textarea rows='2' value={Quiz_solutions[index] || ''} name='Quiz_solutions' onChange={(e) => this.saveAnswer(e, index)} style={{ resize: 'none' }} type='text' className='form-control' />\r\n\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { quizId, Quizname, Teacher_ID, QuizListkeys, QuizListvalues, quizCODE, enteredQuizKey, isQuizKeyValid, timeInSeconds, score, resultKeysArr, resultValuesArr } = this.state;\r\n        const { UserInfo } = this.props;\r\n        const userid = UserInfo.userid;\r\n        // console.log(QuizListkeys, resultKeysArr)\r\n        // console.log(this.CheckStudentAttendanceForQuiz('-LgEsOLYqfD8Ry2HJcgk'))\r\n        return (\r\n            <div>\r\n                {/* // IF teacher, show created Quizzes */}\r\n                {/* // Show QuizCode */}\r\n                {\r\n                    Teacher_ID === userid ?\r\n                        <div className='col-md-3 col-lg-3 col-sm-12 col-xs-12' style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                            <Button size='lg' color='primary' onClick={this.ChangeComponentToQuizCreate} className=' col-lg-9 col-md-12 col-sm-12 col-xs-12'>Create new quiz</Button>\r\n                            <h3 style={{ fontWeight: 'bold', color: '#395498' }}>Created quizzes</h3><br />\r\n                            <div className='overflow' style={{ overflowY: 'auto' }}>\r\n                                {\r\n                                    QuizListkeys.map((key, index) => {\r\n                                        // console.log(key)\r\n                                        const Qname = QuizListvalues[index].name;\r\n                                        // const QtimeDuration = QuizListvalues[index].timeInHoursMinutes;\r\n                                        return (\r\n                                            !QuizListvalues[index].isDeleted &&\r\n                                            <Card key={key} style={{ color: 'white', backgroundColor: '#262f3d', marginBottom: '5px' }}>\r\n                                                <CardBody>\r\n                                                    <CardText className='TextOverFlowControl'>{Qname}</CardText>\r\n                                                    <UncontrolledDropdown className='float-right'>\r\n                                                        <DropdownToggle style={{ backgroundColor: '#262f3d', zIndex: 1 }}>\r\n                                                            <span className='dotsDropDown' /><span className='dotsDropDown' /><span className='dotsDropDown' />\r\n                                                        </DropdownToggle>\r\n\r\n                                                        <DropdownMenu>\r\n                                                            <DropdownItem onClick={() => this.showModalForQuizCode(index)}><i className=\"far fa-eye\"></i>&nbsp;Show Quiz Code</DropdownItem>\r\n                                                            <DropdownItem onClick={() => this.showModalForResult(key)}><i className=\"fas fa-poll\"></i>&nbsp;Show Results</DropdownItem>\r\n                                                            <DropdownItem onClick={() => this.showDeleteConfirm(key)}><i className=\"fas fa-trash\"></i>&nbsp;Delete Quiz</DropdownItem>\r\n                                                        </DropdownMenu>\r\n                                                    </UncontrolledDropdown>\r\n                                                </CardBody>\r\n                                                <Modal title=\"Quiz Code\" visible={this.state.visible} onOk={this.handleOkForQuizCode} onCancel={this.handleCancelForQuizCode} footer={''}>\r\n                                                    <h1 style={{ textAlign: 'center' }}>{quizCODE}</h1>\r\n                                                </Modal>\r\n\r\n                                                <Modal title={Qname} visible={this.state.ShowResult} onOk={this.handleOkForResult} onCancel={this.handleCancelForResult} footer={[]}>\r\n                                                    {/* <h1 style={{ textAlign: 'center' }}>{score}</h1> */}\r\n                                                    <div className='table-responsive'>\r\n                                                        <table className='table'>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <th>Student Name</th>\r\n                                                                    <th>Score</th>\r\n                                                                </tr>\r\n\r\n                                                                {\r\n                                                                    resultKeysArr.map((key, index) => {\r\n                                                                        const res = resultValuesArr[index];\r\n                                                                        return (\r\n                                                                            <tr key={key} className='text-center'>\r\n                                                                                <td>{res.username}</td>\r\n                                                                                <td>{res.score}</td>\r\n                                                                            </tr>\r\n                                                                        )\r\n                                                                    })\r\n                                                                }\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    </div>\r\n                                                </Modal>\r\n                                            </Card>\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        :\r\n                        // ELSE\r\n                        // IF STUDENTS\r\n                        <div>\r\n                            {\r\n                                // if Quiz id is NOT present in state, then render \r\n                                // list of quizzes of that class\r\n                                !quizId && isQuizKeyValid === false ?\r\n                                    <div className='col-md-3 col-lg-3 col-sm-12 col-xs-12' style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                                        <h3 style={{ fontWeight: 'bold', color: '#395498' }}>Created quizzes</h3>\r\n                                        <div className='overflow' style={{ overflowY: 'auto' }}>\r\n                                            {\r\n                                                !QuizListkeys.length ?\r\n                                                    <h4 style={{ color: '#262f3d' }}>No Quizzes!</h4 >\r\n                                                    :\r\n                                                    QuizListkeys.map((key, index) => {\r\n                                                        const Qname = QuizListvalues[index].name;\r\n                                                        const QtimeDuration = QuizListvalues[index].timeInHoursMinutes;\r\n                                                        return (\r\n                                                            !QuizListvalues[index].isDeleted &&\r\n                                                            <Card key={key} onClick={() => this.setState({ quizId: key, Quizname: Qname })} style={{ color: 'white', backgroundColor: '#262f3d', marginBottom: '5px' }}>\r\n                                                                <CardBody>\r\n                                                                    <CardText className='TextOverFlowControl'>{Qname}</CardText>\r\n                                                                    <CardText className='TextOverFlowControl' style={{ color: 'rgba(255,255,255,.7)' }}>{QtimeDuration}</CardText>\r\n                                                                </CardBody>\r\n                                                            </Card>\r\n                                                        )\r\n                                                    })\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                    :\r\n                                    quizId && isQuizKeyValid === false ?\r\n                                        <div className='container' >\r\n                                            <div><br /><br /><br /><br /><br /><br /><br /><br />\r\n                                                <div className='form-group'>\r\n                                                    <h2 className='text-center'>Enter Proctoring Key</h2><br /><br />\r\n                                                    <Input name='enteredQuizKey' value={enteredQuizKey} onChange={(e) => this.handleChange(e)} bsSize='lg' type=\"password\" placeholder=\"Quiz Code\" className='col-md-10 col-sm-12 col-lg-10 col-xs-12 form-control input-lg' required />\r\n                                                    <Button size='lg' color='primary' className='col-xs-12 col-sm-12 col-md-2 col-lg-2' type=\"submit\" onClick={this.CheckProctoringKey}>Enter Quiz >></Button>\r\n                                                    {!isQuizKeyValid && <p>Invalid quiz code entered!</p>}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        :\r\n                                        // if Quiz id is present in state, then render this\r\n                                        quizId && isQuizKeyValid &&\r\n                                        <div className='container'>\r\n                                            <Button size='lg' outline color='primary' onClick={this.LeaveQuizConfirm} className='btn'><i class=\"fas fa-chevron-left\"></i><i class=\"fas fa-chevron-left\"></i><i class=\"fas fa-chevron-left\"></i> Back</Button>\r\n                                            {/* <br /><br /><br /> */}\r\n                                            <div className='text-center'>\r\n                                                <h1>Quiz Title: {Quizname}</h1>\r\n                                            </div>\r\n                                            <div className='float-right' style={{ color: 'RED' }}>\r\n                                                <Timer direction='backward' initialTime={timeInSeconds}>\r\n                                                    <h4>Your quiz will end in the given time below</h4>\r\n                                                    <h4><Timer.Hours /> Hours &nbsp;<Timer.Minutes /> Minutes &nbsp;<Timer.Seconds /> Seconds</h4>\r\n                                                </Timer>\r\n                                            </div>\r\n\r\n                                            {/* <Spin size='large' tip=\"Loading... type text to show here\"> */}\r\n                                            {this.renderQuestions()}\r\n                                            {/* </Spin> */}\r\n\r\n                                            <Button color='warning' className='btn-lg pull-right' onClick={this.On_Quiz_Submit}>Submit</Button>\r\n                                            {/* <Button color='warning' className='btn-lg pull-right' onClick={this.On_Quiz_Submit}>Submit</Button> */}\r\n\r\n                                            <Modal title=\"Your Result\" visible={this.state.ShowScore} onOk={this.handleOkForScore} onCancel={this.handleCancelForScore}\r\n                                                footer={[\r\n                                                    <Progress key={score} percent={score} showInfo={false} />\r\n                                                ]}>\r\n                                                <h1 style={{ textAlign: 'center' }}>{score}</h1>\r\n                                                {/* <div className='table-responsive'>\r\n                                                <table className='table'>\r\n                                                    <tr>\r\n                                                        <th>ClassName</th>\r\n                                                        <th>Quiz Heading / Quiz Number/Quiz Name</th>\r\n                                                    </tr>\r\n                                                    <tr className='text-center'>\r\n                                                        <td>fyp2</td>\r\n                                                        <td>Quiz#1</td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div> */}\r\n                                            </Modal>\r\n\r\n                                        </div>\r\n\r\n\r\n                            }\r\n                        </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info,\r\n        RecieverId: state.RecieverIDReducers.RecieverId,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // updateRecieverId: (RecieverId) => dispatch(updateRecieverId(RecieverId))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Quiz);\r\n","import React, { Component } from 'react';\r\nimport '../Quiz/CreateQuiz.css';\r\nimport firebase from '../../firebase/firebase';\r\nimport { Button, Input, DropdownToggle, UncontrolledDropdown, DropdownMenu, DropdownItem } from 'reactstrap';\r\n// import { CardBody, CardHeader, CardFooter, CardTitle, Card, CardText } from 'reactstrap';\r\nimport { Spin } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport { connect } from 'react-redux';\r\nimport { message, Divider } from 'antd';\r\nimport DateTimePicker from 'react-datetime-picker';\r\n// import moment from 'moment';\r\n\r\nconst database = firebase.database();\r\nconst format = 'HH:mm';\r\n\r\nclass Create_Assignment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            assignname: '',\r\n            submissionDay: '',\r\n            submissionDate: '',\r\n            submissionTime: '',\r\n            submissionTimestamp: 0,\r\n            questions: [''],\r\n            answers: [''],\r\n            UploadAssignButtonDisabled: true,\r\n            date: new Date(),\r\n        };\r\n    }\r\n    onChangeDate = date => {\r\n        const dateToShow = date.toString().split(' GMT+')[0];\r\n        const DATE = dateToShow.substring(0, dateToShow.length - 3).split(' ');\r\n        const submissionDay = DATE[0];\r\n        const submissionDate = DATE[1] + ' ' + DATE[2] + ', ' + DATE[3];\r\n        const submissionTime = DATE[4];\r\n\r\n        const timestamp = date.getTime();\r\n        // console.log(DATE)\r\n        // console.log(submissionDay + ' ', submissionDate + ' ', submissionTime + ' ', timestamp);\r\n        this.setState({ date, submissionDay, submissionDate, submissionTime, submissionTimestamp: timestamp }, () => console.log(this.state.date))\r\n    }\r\n\r\n    CreateNewQuestionField = () => {\r\n        const { questions, answers } = this.state;\r\n        questions.push('');\r\n        answers.push('');\r\n        // questions.forEach((ques, index) =>\r\n        //     answers[index] = ''\r\n        // )\r\n        console.log(questions, answers);\r\n        this.setState({ questions, answers }, () => this.isUploadAssignButtonDisabled());\r\n    }\r\n\r\n\r\n    saveQuestion = (e, index) => {\r\n        const { questions } = this.state;\r\n        questions[index] = e.target.value;\r\n        this.setState({ questions }, () => this.isUploadAssignButtonDisabled());\r\n    }\r\n    saveAnswer = (e, index) => {\r\n        const { answers } = this.state;\r\n        answers[index] = e.target.value;\r\n        this.setState({ answers }, () => this.isUploadAssignButtonDisabled());\r\n    }\r\n    isUploadAssignButtonDisabled = () => {\r\n        const { answers, questions } = this.state;\r\n\r\n        const isQues = this.checkArray(questions);\r\n        const isAns = this.checkArray(answers);\r\n\r\n        // console.log(isQues, isAns)\r\n        const is = isQues || isAns;\r\n        // console.info('disabled: ', is);\r\n\r\n        this.setState({ UploadAssignButtonDisabled: is })\r\n    }\r\n    checkArray = (my_arr) => {\r\n        for (var i = 0; i < my_arr.length; i++) {\r\n            if (my_arr[i] === \"\")\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    RemoveQuestion = (thisQues, thisAns) => {\r\n        console.log(thisAns);\r\n        const { questions, answers } = this.state;\r\n        const quesArr = questions.filter(question => question !== thisQues);\r\n\r\n        // console.log({ answers });\r\n        const ansArr = answers.filter(answer => answer !== thisAns);\r\n        // console.log({ ansArr });\r\n\r\n        this.setState({ questions: quesArr, answers: ansArr }, () => this.renderQuestionsAndCheckUploadAssignButtonDisabled())\r\n    }\r\n\r\n    renderQuestionsAndCheckUploadAssignButtonDisabled = () => {\r\n        this.isUploadAssignButtonDisabled();\r\n        this.renderQuestions();\r\n    }\r\n\r\n\r\n    // GetTimeFunc = (e) => {\r\n    //     // const {submissionTime} = this.state;\r\n    //     console.log(Date.now())\r\n    //     console.log(Date)\r\n\r\n    //     const time_d = e && e._d && e._d.toString();\r\n    //     // console.log(time_d);\r\n    //     if (time_d) {\r\n    //         const tym = time_d.split(' ')[4].toString();\r\n    //         // console.log(tym);\r\n    //         const secondcolonIndex = tym.lastIndexOf(':');\r\n    //         const Time = tym.slice(0, secondcolonIndex);\r\n    //         console.log(Time);\r\n\r\n    //         this.setState({ submissionTime: Time });\r\n    //     }\r\n    // }\r\n\r\n    UploadQuestions = async () => {\r\n        const { assignname, questions, answers, submissionDay, submissionDate, submissionTime, submissionTimestamp } = this.state;\r\n        const { ClassID, UserInfo } = this.props;\r\n\r\n        const assignQuesRef = database.ref(`Assignment_Questions/${ClassID}`);\r\n        const assignID = await assignQuesRef.push().key;\r\n        await assignQuesRef.child(assignID).set({\r\n            Teacherid: UserInfo.userid,\r\n            Questions: questions,\r\n            name: assignname,\r\n            submissionDay,\r\n            submissionDate,\r\n            submissionTime,\r\n            submissionTimestamp,\r\n            latestTimestamp: Date.now(),         // For order by ........\r\n            isDeleted: false,\r\n            // expired: true                     // jisne attempt krliya hai usky pas show na hou Quiz, ye rehtaa hai abhi\r\n        })\r\n\r\n        const assignAnsRef = database.ref(`Assignment_Answers/${ClassID}`);\r\n        await assignAnsRef.child(assignID).set({\r\n            Answers: answers,\r\n            latestTimestamp: Date.now(),\r\n        })\r\n        message.success('Assignment Uploaded');\r\n        this.historyGoBack();\r\n    }\r\n    historyGoBack = () => {\r\n        this.props.history.goBack();\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    renderQuestions = () => {\r\n        const { questions, answers } = this.state;\r\n\r\n        return questions.map((ques, index) => {\r\n            return (\r\n                <div className='post' key={index} style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n                    <div>\r\n                        <UncontrolledDropdown>\r\n                            <DropdownToggle className='pull-right' style={{ backgroundColor: 'white' }}>\r\n                                <span className='dot' /><span className='dot' /><span className='dot' />\r\n                            </DropdownToggle>\r\n                            <DropdownMenu>\r\n                                <DropdownItem onClick={() => this.RemoveQuestion(ques, answers[index])}>Remove Question</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                        <label>Question#{index + 1}:</label>\r\n                        {/* <p>{ques}</p> */}\r\n                        {/* <textarea rows='2' value={ques || ''} onChange={(e) => this.saveQuestion(e, index)} style={{ resize: 'none', margin: '0px 0px 5px 0px', fontWeight: 'bold' }} type='text' className='form-control' /> */}\r\n                        <TextArea value={ques || ''} onChange={(e) => this.saveQuestion(e, index)} style={{ resize: 'none', margin: '0px 0px 5px 0px', fontWeight: 'bold' }} className='form-control' type='text' autosize={{ minRows: 2, maxRows: 5 }} /><br />\r\n                        {/* <TextArea style={{ resize: 'none' }} value={'value'} autosize={{ minRows: 3, maxRows: 9 }} /> */}\r\n\r\n                    </div>\r\n                    <label>Answer:</label>\r\n                    {/* <textarea rows='2' value={answers[index] || ''} onChange={(e) => this.saveAnswer(e, index)} style={{ resize: 'none', margin: '0px 0px 5px 0px' }} type='text' className='form-control' /> */}\r\n                    <TextArea value={answers[index] || ''} onChange={(e) => this.saveAnswer(e, index)} style={{ resize: 'none', margin: '0px 0px 5px 0px' }} className='form-control' type='text' autosize={{ minRows: 3, maxRows: 9 }} /><br />\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { assignname, questions } = this.state;\r\n\r\n        return (\r\n            <div className='container'>\r\n\r\n                <Button size='lg' outline color='primary' onClick={this.historyGoBack} className=' col-lg-1 col-md-2 col-sm-2 col-xs-2'><i className=\"fas fa-arrow-left\"></i> back</Button>\r\n\r\n                <div>\r\n                    <div className='post' style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n                        <h4>Assignment Name</h4><br />\r\n                        <Input bssize='lg' value={assignname} name='assignname' onChange={(e) => this.handleChange(e)} type='text' className='form-control form' placeholder='Assignment Name' />\r\n                        <br />\r\n                        <h4>Select Deadline for Submission</h4><br />\r\n                        <DateTimePicker onChange={this.onChangeDate} value={this.state.date} />\r\n                    </div>\r\n\r\n                    {questions.length > 0 &&\r\n                        <h3 className='text-center'>Assignment Questions</h3>\r\n                    }\r\n\r\n                    {/* <Spin size='large' spinning={false} tip=\"Loading... type text to show here\"> */}\r\n                    {this.renderQuestions()}\r\n                    {/* </Spin> */}\r\n\r\n                    <Button size='lg' color='primary' type=\"button\" className='pull-right' onClick={this.CreateNewQuestionField}>More Questions?</Button>\r\n                    <br />\r\n                    <br />\r\n                    <Divider />\r\n                    <br/>\r\n                    <br/>\r\n                    {questions.length > 0 &&\r\n                        <Button size='lg' color='success' className='pull-right' disabled={this.state.UploadAssignButtonDisabled} onClick={this.UploadQuestions}>Upload Assignment</Button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info,\r\n        RecieverId: state.RecieverIDReducers.RecieverId,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // updateRecieverId: (RecieverId) => dispatch(updateRecieverId(RecieverId))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Create_Assignment);\r\n","import React, { Component } from 'react';\r\nimport './CreateQuiz.css';\r\nimport firebase from '../../firebase/firebase';\r\n// import { Divider } from 'antd';\r\nimport { Button, Input, DropdownToggle, UncontrolledDropdown, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { Spin, Modal, TimePicker } from 'antd';\r\n// import moment from 'moment';\r\n\r\nconst database = firebase.database();\r\n\r\nconst format = 'HH:mm';\r\nclass CreateQuiz extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            quizname: '',\r\n            noOfQuestions: '',\r\n            chapterText: '',\r\n            timeInSeconds: 0,\r\n            questions: [],\r\n            answers: [],\r\n            showQuizCode: false,\r\n            Quizcode: '',\r\n            UploadQuizButtonDisabled: true,\r\n            showSpinner: false\r\n        }\r\n    }\r\n\r\n    showQuizCodeModal = () => {\r\n        this.setState({\r\n            showQuizCode: true,\r\n        });\r\n    };\r\n\r\n    handleQuizCodeOk = () => {\r\n        this.setState({\r\n            showQuizCode: false\r\n        })\r\n    };\r\n\r\n    handleQuizCodeCancel = () => {\r\n        this.setState({\r\n            showQuizCode: false\r\n        })\r\n    };\r\n\r\n    GetQuestionsFromText = async () => {\r\n        this.setState({ showSpinner: true });\r\n        this.fetchData(); // removed await from here and wrote in the next line\r\n        await this.init_answers_Array();\r\n    }\r\n    fetchData = () => {\r\n        const { chapterText, noOfQuestions } = this.state;\r\n        const num = noOfQuestions;\r\n        const NumOfQues = Number(num);\r\n        this.setState({ showSpinner: true });\r\n\r\n        fetch(`http://localhost:8000/questions?chapterText=${chapterText}&NumOfQues=${NumOfQues}`)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((myJson) => {\r\n                // console.log(myJson);\r\n                // const my_json = JSON.stringify(myJson);\r\n                // console.log(my_json);\r\n                this.setState({ questions: myJson.result }, () => console.log(this.state.questions))\r\n            });\r\n    }\r\n    init_answers_Array = () => {\r\n        const { questions, answers } = this.state;\r\n        questions.forEach((ques, index) =>\r\n            answers[index] = ''\r\n        )\r\n        this.setState({ answers, showSpinner: false });\r\n    }\r\n\r\n\r\n\r\n\r\n    saveAnswer = (e, index) => {\r\n        const { answers } = this.state;\r\n        answers[index] = e.target.value;\r\n        this.setState({ answers }, () => this.isUploadQuizButtonDisabled());\r\n    }\r\n\r\n    isUploadQuizButtonDisabled = () => {\r\n        const { answers } = this.state;\r\n\r\n        const is = this.checkArray(answers); // TEST THIS, srf disabled={!UploadQuizButtonDisabled} krna hai\r\n        // console.log(is)\r\n\r\n        this.setState({ UploadQuizButtonDisabled: is })\r\n    }\r\n\r\n    checkArray = (my_arr) => {\r\n        for (var i = 0; i < my_arr.length; i++) {\r\n            if (my_arr[i] === \"\")\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    RemoveQuestion = (thisQues, thisAns) => {\r\n        console.log(thisAns);\r\n        const { questions, answers } = this.state;\r\n        const quesArr = questions.filter(question => question !== thisQues);\r\n\r\n        // console.log({ answers });\r\n        const ansArr = answers.filter(answer => answer !== thisAns);\r\n        // console.log({ ansArr });\r\n\r\n        this.setState({ questions: quesArr, answers: ansArr }, () => this.renderQuestionsAndCheckUploadQuizButtonDisabled());\r\n    }\r\n\r\n    renderQuestionsAndCheckUploadQuizButtonDisabled = () => {\r\n        this.isUploadQuizButtonDisabled();\r\n        this.renderQuestions();\r\n    }\r\n\r\n\r\n    GenerateQuizCode = () => {\r\n        const code = Math.random().toString(36).slice(2, 8).toUpperCase();\r\n        this.setState({ Quizcode: code }, () => {\r\n            this.showQuizCodeModal();\r\n        })\r\n    }\r\n\r\n    GetTimeFunc = (e) => {\r\n        // const {timeInSeconds} = this.state;\r\n        const time_d = e && e._d && e._d.toString();\r\n        // console.log(time_d);\r\n        if (time_d) {\r\n            const tym = time_d.split(' ')[4].toString();\r\n            // console.log(tym);\r\n            const tymArr = tym.split(':');\r\n            console.log(tymArr);\r\n            const hours = tymArr[0] === '00' ? '' : tymArr[0] === '01' ? `${tymArr[0]} hour` : `${tymArr[0]} hours`;\r\n            const minutes = tymArr[1] === '00' ? '' : tymArr[1] === '01' ? `${tymArr[1]} minute` : `${tymArr[1]} minutes`;\r\n            const And = (tymArr[0] === '00' || tymArr[1] === '00') ? '' : ' and ';\r\n\r\n\r\n            const timeInHoursMinutes = `${hours}${And}${minutes}`;\r\n            // const timeInHoursMinutes = `${tymArr[0]} hours, ${tymArr[1]} minutes`;\r\n            console.log(timeInHoursMinutes);\r\n            const timeInSeconds = tymArr[0] * 3600 + tymArr[1] * 60;\r\n            // console.log(timeInSeconds);\r\n            this.setState({ timeInSeconds, timeInHoursMinutes });\r\n        }\r\n    }\r\n\r\n    UploadQuestions = async () => {\r\n        const { quizname, questions, answers, timeInSeconds } = this.state;\r\n        const { ClassID, UserInfo } = this.props;\r\n\r\n        this.GenerateQuizCode();\r\n\r\n        const QuizQuesRef = database.ref(`Quiz_Questions/${ClassID}`);\r\n        const QuizID = await QuizQuesRef.push().key;\r\n        await QuizQuesRef.child(QuizID).set({\r\n            Teacherid: UserInfo.userid,\r\n            Questions: questions,\r\n            name: quizname,\r\n            quizcode: this.state.Quizcode,\r\n            timeInSeconds: timeInSeconds,\r\n            latestTimestamp: Date.now(),\r\n            isDeleted: false,\r\n            expired: true\r\n        })\r\n\r\n        const QuizAnsRef = database.ref(`Quiz_Answers/${ClassID}`);\r\n        await QuizAnsRef.child(QuizID).set({\r\n            Answers: answers,\r\n            latestTimestamp: Date.now(),\r\n        })\r\n\r\n        // this.setState({})\r\n        // this.historyGoBack();\r\n    }\r\n\r\n    historyGoBack = () => {\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    renderQuestions = () => {\r\n        const { questions, answers } = this.state;\r\n\r\n        return questions.map((ques, index) => {\r\n            return (\r\n                <div className='post' key={index} style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n                    <div>\r\n                        <UncontrolledDropdown>\r\n                            <DropdownToggle className='pull-right' style={{ backgroundColor: 'white' }}>\r\n                                <span className='dot' /><span className='dot' /><span className='dot' />\r\n                            </DropdownToggle>\r\n                            <DropdownMenu>\r\n                                <DropdownItem onClick={() => this.RemoveQuestion(ques, answers[index])}>Remove Question</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                        <label>Question#{index + 1}:</label>\r\n                        <p>{ques}</p>\r\n\r\n                    </div>\r\n                    <textarea rows='2' value={answers[index] || ''} name='answers' onChange={(e) => this.saveAnswer(e, index)} style={{ resize: 'none' }} type='text' className='form-control' />\r\n\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { quizname, noOfQuestions, chapterText, Quizcode, questions, showSpinner } = this.state;\r\n\r\n        return (\r\n            <div className='container'>\r\n                <Button size='lg' color='primary' onClick={this.historyGoBack} className=' col-lg-1 col-md-2 col-sm-2 col-xs-2'>back</Button>\r\n\r\n                <div>\r\n                    <div className='post' style={{ margin: '16px 0px 16px 0px', padding: '20px', borderRadius: '8px' }}>\r\n                        <h4>Quiz Name</h4>\r\n                        <Input bssize='lg' value={quizname} name='quizname' onChange={(e) => this.handleChange(e)} type='text' className='form-control form' placeholder='Quiz Name' />\r\n                        {/* <Divider /> */}\r\n                        <br />\r\n                        <h4>Select Time Duration</h4>\r\n                        <TimePicker size=\"large\" format={format} name='timeInSeconds' onChange={(e) => this.GetTimeFunc(e)} />\r\n                        <br />\r\n                        <br />\r\n                        <h4>Total Number of questions (optional)</h4>\r\n                        <Input bssize='lg' value={noOfQuestions} name='noOfQuestions' onChange={(e) => this.handleChange(e)} type='number' className='form-control form' placeholder='1,2,3,4,5....' />\r\n                        {/* <Divider /> */}\r\n                        <br />\r\n                        <h4>Type a text for generating a quiz</h4>\r\n                        <textarea rows='5' value={chapterText} name='chapterText' onChange={(e) => this.handleChange(e)} style={{ resize: 'none' }} type='text' className='form-control' placeholder='Example : EveryThink is an easy way to get your students connected so they can safely collaborate, get and stay organized, and access assignments, quizzes...' />\r\n                        <br />\r\n\r\n                        <Button color='success' className='btn-lg pull-right' disabled={!chapterText} onClick={this.GetQuestionsFromText}>Generate Questions</Button>\r\n                    </div>\r\n                    {/* <Divider /> */}\r\n\r\n                    {questions.length > 0 &&\r\n                        <h3 className='text-center'>Quiz Questions</h3>\r\n                    }\r\n\r\n                    {showSpinner ?\r\n                        <Spin size='large' spinning={false} tip=\"Loading... type text to show here\">\r\n                            <br/><br/><br/><br/><br/><br/>\r\n                        </Spin>\r\n                        :\r\n                        <>\r\n                            {this.renderQuestions()}\r\n                        </>\r\n                    }\r\n\r\n                    {questions.length > 0 &&\r\n                        <Button color='success' className='btn-lg pull-right' disabled={this.state.UploadQuizButtonDisabled} onClick={this.UploadQuestions}>Upload Quiz</Button>\r\n                    }\r\n                    <br /><br /><br /><br />\r\n\r\n                    {/* <Button color='success' className='btn-lg pull-right' onClick={this.showModal}>Upload Quiz</Button> */}\r\n\r\n\r\n                    <Modal title=\"Quiz Code\" visible={this.state.showQuizCode} onOk={this.handleQuizCodeOk} onCancel={this.handleQuizCodeCancel} footer={''}\r\n                    // footer={[\r\n                    //     <Progress percent={30} showInfo={false} />\r\n                    // ]}\r\n                    >\r\n                        <div>\r\n                            <p>Enter the quiz key for student to start the quiz. This code can also be viewed later by the Teacher, from the created quizzes list.</p>\r\n                            <h1 style={{ textAlign: 'center' }}>{Quizcode}</h1>\r\n\r\n                            {/* QUIZ # 1\r\n                                SCORE: 40% */}\r\n\r\n                            {/* <table className='table'>\r\n                                <tr>\r\n                                    <th>ClassName</th>\r\n                                    <th>Quiz Heading / Quiz Number/Quiz Name</th>\r\n                                </tr>\r\n                                <tr className='text-center'>\r\n                                    <td>fyp2</td>\r\n                                    <td>Quiz#1</td>\r\n                                </tr>\r\n                            </table> */}\r\n\r\n                        </div>\r\n                    </Modal>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n        UserInfo: state.UserInfoReducers.info,\r\n        RecieverId: state.RecieverIDReducers.RecieverId,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // updateRecieverId: (RecieverId) => dispatch(updateRecieverId(RecieverId))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateQuiz);\r\n","import { BrowserRouter } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport default class YourBrowserRouter extends BrowserRouter {\r\n  history;\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport withAuthentication from './withAuthentication';\r\nimport Navigation from './Navigation/Navigation';\r\nimport LandingPage from './Landing/Landing';\r\n// import SignUpPage from './SignUp/SignUp';\r\n// import SignInPage from './SignIn/SignIn';\r\n// import PasswordForgetPage from './PasswordForget/PasswordForget';\r\nimport HomePage from './Home/Home';\r\nimport AccountPage from './Account/Account';\r\nimport ListOfClasses from './ListOfClasses/ListOfClasses';\r\n\r\nimport Bootstrap from '../bootstrap-3.3.7-dist/css/bootstrap.css';\r\n// import 'react-notification-center/src/less/index.less';\r\n\r\n// import Footer from './Footer/Footer';\r\n// import 'react-bootstrap';\r\nimport Messages from './Messages/messtry';\r\nimport * as routes from '../constants/routes';\r\nimport firebase from 'firebase';\r\nimport loading from '../Images/spinner.gif';\r\nimport Create_Assignment from './Assignment/Create_Assignment';\r\nimport Assignments from './Assignment/Assignments';\r\nimport Quiz from './Quiz/Quiz';\r\nimport CreateQuiz from './Quiz/CreateQuiz';\r\n\r\nimport { updateUser } from '../redux/Auth/AuthActions';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { history } from './History'\r\n\r\n// import 'react-bootstrap';\r\n\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            authUser: null,\r\n            screenLoading: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"EveryThink\";\r\n        firebase.auth().onAuthStateChanged(authUser => {\r\n            authUser\r\n                ? this.setState(() => ({ authUser, screenLoading: false }))\r\n                : this.setState(() => ({ authUser: null, screenLoading: false }));\r\n        });\r\n    }\r\n\r\n    // logout\r\n    logout = () => {\r\n        this.setState({ screenLoading: true });\r\n\r\n        firebase.auth().signOut()\r\n            .then(() => {\r\n                history.push(routes.LANDING);\r\n                // window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log('ERROR => ', err);\r\n                this.setState({ screenLoading: false });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { authUser, screenLoading } = this.state;\r\n        // const { ClassID } = this.props;\r\n        // console.log(ClassID);\r\n\r\n        return (\r\n            <Router>\r\n                <div id=''>\r\n                    {\r\n                        screenLoading &&\r\n                        <div style={{ position: 'fixed', top: 0, left: 0, height: '100%', width: '100%', zIndex: 100, background: '#ffffff' }}> <img style={{ margin: '200px' }} className='rounded mx-auto d-block img-responsive' src={loading} alt='Loading' /></div>\r\n                    }\r\n                    {/* <div id='abc' className='container-fluid'> */}\r\n                    <Navigation authUser={authUser} logout={this.logout} />\r\n                    {/* </div> */}\r\n\r\n                    {!authUser ? (<LandingPage />) :\r\n                        <Switch>\r\n                            <Route exact path={routes.LANDING} component={ListOfClasses} />\r\n                            <Route exact path={routes.HOME} component={HomePage} />\r\n                            <Route exact path={routes.ACCOUNT} component={AccountPage} />\r\n                            <Route exact path={routes.LIST_OF_CLASSES} component={ListOfClasses} />\r\n                            <Route exact path={routes.MESSAGES} component={Messages} />\r\n                            <Route exact path={routes.ASSIGN_CREATE} component={Create_Assignment} />\r\n                            <Route exact path={routes.ASSIGNMENTS} component={Assignments} />\r\n                            <Route exact path={routes.QUIZ} component={Quiz} />\r\n                            <Route exact path={routes.QUIZ_CREATE} component={CreateQuiz} />\r\n                        </Switch>\r\n                    }\r\n\r\n                    {/* <div className='App'>\r\n                        {authUser ? (<HomePage />) : (<LandingPage />)}\r\n                    </div> */}\r\n                </div>\r\n            </Router>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authUser: state.authReducers.user,\r\n        ClassID: state.ClassIDReducers.ClassId,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        modifyUser: (user) => dispatch(updateUser(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuthentication(App));\r\n\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const INITIAL_STATE = {\r\n    user: '',\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => { // state ko empty object bhi rakh sakte hain\r\n    switch (action.type) {\r\n        case \"UPDATE_USER\": {\r\n            return { ...state, user: action.user }\r\n        }\r\n        case \"REMOVE_USER\": {\r\n            return { ...state, user: null }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer;","const INITIAL_STATE = {\r\n    ClassId: '',\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => { // state ko empty object bhi rakh sakte hain\r\n    switch (action.type) {\r\n        case \"UPDATE_ClassId\": {\r\n            return { ...state, ClassId: action.ClassId }\r\n        }\r\n        case \"REMOVE_ClassId\": {\r\n            return { ...state, ClassId: null }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer;","const INITIAL_STATE = {\r\n    info: '',\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => { // state ko empty object bhi rakh sakte hain\r\n    switch (action.type) {\r\n        case \"UPDATE_USER_INFO\": {\r\n            return { ...state, info: action.user_info }\r\n        }\r\n        case \"REMOVE_USER_INFO\": {\r\n            return { ...state, info: null }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer;","const INITIAL_STATE = {\r\n    RecieverId: '',\r\n};\r\n\r\nconst reducer = (state = INITIAL_STATE, action) => { // state ko empty object bhi rakh sakte hain\r\n    switch (action.type) {\r\n        case \"UPDATE_RecieverId\": {\r\n            return { ...state, RecieverId: action.RecieverId }\r\n        }\r\n        case \"REMOVE_RecieverId\": {\r\n            return { ...state, RecieverId: null }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer;","import {combineReducers} from 'redux';\r\nimport authReducers from './Auth/AuthReducers';\r\nimport ClassIDReducers from './ClassID/ClassIDReducers';\r\nimport UserInfoReducers from './UserInfo/UserInfoReducers';\r\nimport RecieverIDReducers from './MessageRecieverID/RecieverIDReducers';\r\n\r\nexport default combineReducers({\r\n    authReducers,\r\n    ClassIDReducers,\r\n    UserInfoReducers,\r\n    RecieverIDReducers\r\n})\r\n","import { createStore } from 'redux';\r\nimport rootReducer from './rootReducer';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\nconst store = createStore(persistedReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\nlet persistor = persistStore(store);\r\n\r\nexport { persistor };\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport registerServiceWorker from './registerServiceWorker';\nimport 'react-notifications/lib/notifications.css';\nimport { Provider } from 'react-redux';\nimport store  from './redux/store';\n// import 'bootstrap/dist/css/bootstrap.css';\n\n\nimport 'antd/dist/antd.css'; // Copied from FbPost of OyeOvi :D\n\nReactDOM.render(\n    <Provider store={store}>\n            <App />\n    </Provider>,\n    document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}